---
layout: post
title: tutorial
image: 'https://unsplash.com/photos//download?w=437'
thumb: 'https://unsplash.com/photos//download?w=437'
author: null
category: blog
published: false
---
---
published: false
---


<!-- truncate_here -->

The json-api server runs on port 7575. you can ssh into the pod and run this command to check it's working correctly. 

```bash
curl http://localhost:7575/v2/version
{"version":"3.4.9","features":{"experimental":{"staticTime":{"supported":false},"commandInspectionService":{"supported":true}},"userManagement":{"supported":true,"maxRightsPerUser":1000,"maxUsersPageSize":1000},"partyManagement":{"maxPartiesPageSize":10000},"offsetCheckpoint":{"maxOffsetCheckpointEmissionDelay":{"seconds":75,"nanos":0,"unknownFields":{"fields":{}}}},"packageFeature":{"maxVettedPackagesPageSize":100}}}```


How do you acces this service outsid the pod. one way is to expose the port 7575. however, most of the ports are blocked due to securty. 

Another option is to use spring gateway and access this port using 8080 portt. 

one way is to expose this port 7575 outside the pod.  other opttion is to use spring gatway and access this port using `8080` port

first modify scg.yaml

```
spring:
  cloud:
    gateway:
      routes:
        - id: json-api
          uri: http://${app}-service.${app}-${appenv}.svc.cluster.local:7575
          predicates:
            - Path=/json-api/**
          filters:
            - RewritePath=/json-api/(?<path>.*), /$\{path}

```
  explain it what it does/
