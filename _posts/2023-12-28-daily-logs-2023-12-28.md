---
layout: post
title: Dear Vishi, daily logs for Dec 28, 2023
category: blog
tags:
  - diary
  - letters
thumb: /img/writing.jpg
image: /img/writing.jpg
author: Tushar Sharma
published: true
---

Dear Vishi, this is my daily log for Dec 28, 2023.<!-- truncate_here -->

Dear Vishi, daily logs for Dec 28, 2023

I went to the gym today, overcoming a common psychological barrier that often discourages regular exercise. Research has shown that maintaining a routine of physical activity, like regular gym visits, can significantly improve mental well-being. A study published in The Lancet Psychiatry (2018) found that individuals who exercised had 43.2% fewer days of poor mental health compared to those who didn’t exercise.

I've also shifted my focus away from constantly monitoring my weight. Fixating solely on weight loss can be counterproductive, as noted in a study from the University of Minnesota (2006), which found that frequent self-weighing was associated with negative outcomes like depression and decreased body satisfaction. Instead, adopting a holistic approach to health is beneficial. The Centers for Disease Control and Prevention (CDC) emphasize the importance of viewing weight loss as a beneficial side effect of a healthy lifestyle rather than the primary goal.

Regarding the impact of exercise on longevity, a study in PLOS Medicine (2015) reported that overweight individuals who are physically active have a lower risk of mortality than normal-weight individuals who are inactive. This underscores the importance of regular physical activity, regardless of body weight.

However, it's crucial to acknowledge that exercise alone isn't a comprehensive solution for weight management. The World Health Organization (WHO) has identified obesity as a significant risk factor for numerous diseases, including heart disease, diabetes, and certain cancers. A balanced approach that includes both physical activity and attention to diet is essential for overall health and well-being.

### Kafka

#### Consumer

Consumers read data from topic. Each consumer belongs to a specific consumer group, identified by a unique group id. Topics in Kafka are divided into partitions. Partitions allow for the data within a topic to be split and stored across multiple nodes in a Kafka cluster, enabling parallel consumption and providing fault tolerance.
 
When a consumer connects to a broker (bootstrap server), it's essentially connecting to the entire Kafka cluster. This is because Kafka brokers work together to create a distributed system, and any one broker can serve as the entry point to the system.

In a single partition, a consumer reads records in the order they were produced. However, with multiple partitions, consumers in the same group can read from different partitions in parallel, substantially increasing the overall read throughput.

If you have only two partition in a topic then : 

1. If you have three consumers with same group id (means they belong to same consumer group) , only two of them will be active, each consuming from one partition.

2. If you have three consumers with different group id, all three will be active.

If your goal is maximize paralleism and throughput, it's beneficial to have at least as many partitions as there are consumers.

#### Consumer Offset

Kakfa stores the offset at which a consumer group has been reading. The offset is commited in kafka topic named `__consumer_offsets`.

#### Producer

When a producer publishes to kafka topic without a key, it uses a round-robin strategy to distribute the messages evenly accross all partitions. This means that the first message goes to the first partition, the second message goes to the second partition, and so on. When the last partition is reached, the next message goes back to the first partition, hence the term "round-robin".

When a producer uses a key, each key is hashed and hash is used to determine the partition to which the message needs to be sent. ˇThis ensures that all messages with same key always end up in same partition to maintain the order.

### Gradle

Gradle uses `GRADLE_USER_HOME` environment variable to determine where to store its cache and configuration files. So in our groovy pipeline we can set it like 

```groovy
pipeline {
    environment {
        GRADLE_USER_HOME="/home/jenkins/.gradle/${env.JOB_NAME}"
    }
}
```



