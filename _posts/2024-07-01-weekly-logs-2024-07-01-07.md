---
layout: post
title: Weekly Logs from July 1 to 7, 2024
image: 'https://unsplash.com/photos/N_G2Sqdy9QY/download?w=800'
thumb: 'https://unsplash.com/photos/N_G2Sqdy9QY/download?w=800'
author: Tushar Sharma;
category: blog
tags:
  - diary
  - letters
published: true
google_sheet_url: >-
  https://sheets.googleapis.com/v4/spreadsheets/1Xb4wV0AOQiGWwXaciIBX-rkFebzg8DlAcRcClshyAnA/values/Habits!A214:T226?alt=json&key=AIzaSyCgYRKf_apK3TUSYGO9WhQ5dN-ukY4H0gw
---

Dear Vishi, this is my weekly logs from from July 1 to 7, 2024.<!-- truncate_here -->

## Snapshot of my habits

{% include habits.html %}

## July 1

I always have jitters while flying. Saw a video of Air Europa Boeing 787-9 hit by severe turbulence. 

<center><blockquote class="twitter-tweet" data-media-max-width="560"><p lang="en" dir="ltr">One of the passengers on board the Air Europa flight that hit turbulence over the Atlantic had to be rescued from the overhead luggage compartment. <a href="https://t.co/UKtfioCRU4">https://t.co/UKtfioCRU4</a> <a href="https://t.co/vU2BX6HX5z">pic.twitter.com/vU2BX6HX5z</a></p>&mdash; Breaking Aviation News &amp; Videos (@aviationbrk) <a href="https://twitter.com/aviationbrk/status/1807817369101693001?ref_src=twsrc%5Etfw">July 1, 2024</a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script></center><br><br>


## July 2

Difference between **api** and **implementations** in Gradle. 

- **Implementation**: Used for dependencies your current module needs to function at both compile time and run time. Scope is internal to module
- **API**: Used for dependencies your current module needs and also want to expose to dependent modules. Scope is public API of the module.

Use of annotation `@EnableConfigurationProperties`. So Spring scans for `MongoPropeties` class. Binds the configuration properties with "spring.data.mongodb" to the corresponding `MongoProperties` class so you can inject the bean using dependency injection.


```java
@EnableConfigurationProperties(MongoProperties.class)
class MongoReactiveAutoConfiguration{

    @ConditionalOnProperty(prefix = "spring.data.mongodb", name = "database")
    public ReactiveMongoTemplate reactiveMongoTemplate(MongoClient mongoClient, MongoProperties mongoProperties) {
        return new ReactiveMongoTemplate(mongoClient, mongoProperties.getDatabase());
    }
}
```

`@ConditionalOnProperty` is used to conditionally creates a bean if the property exist and has any values (including empty string).

Now writing some tests:

```java
@SpringBootTest(classes = {MongoReactiveAutoConfiguration.class})
@Testcontainers
public class MongoReactiveAutoConfigurationIntegrationTest {
     @DynamicPropertySource
    static void setProperties(DynamicPropertyRegistry registry) {
        registry.add("spring.data.mongodb.host", mongoDBContainer::getHost);
        registry.add("spring.data.mongodb.port", mongoDBContainer::getFirstMappedPort);
        registry.add("spring.data.mongodb.username", () -> "root");
        registry.add("spring.data.mongodb.password", () -> "password");
    }
}
```

Here `@DynamicPropertySource` is used to add add properties to the Spring environment at run time. 

## July 3

Realize that there's a conflict between Armenia and Azerbaijan. I've talked to someone folks from Armenia and naively mentioned Azerbaijan and I could see hostility in their tone. 

Solved Leetcode problem https://leetcode.com/problems/move-zeroes/description/

```java
class Solution {
    public void moveZeroes(int[] nums) {

        int i = 0, j = 0; 
        if (nums.length > 1) {
          while (j < nums.length || i < nums.length) {
            while (i < nums.length && nums[i] != 0) {
                i++;
            }
            j = i + 1;
            
            while (j < nums.length && nums[j] == 0) {
                j++;
            }

            if (j > i && j < nums.length && i < nums.length) {
                int temp = nums[i];
                nums[i] = nums[j];
                nums[j] = temp;
            }
            i++;
            j++;
          }
        }
    }
}
```

Keys to remember is whenever you have an array, check if `i < nums.length`.

Another better solution refactored without bands and stiches.

```java
class Solution {
    public void moveZeroes(int[] nums) {

        // nums.length > 2
        int i = 0; // pointer to non zero element
        int j = 0; // pointer to next non zero element to swap

        while (j < nums.length) {
            if (nums[j] != 0) {
                int temp = nums[i];
                nums[i] = nums[j];
                nums[j] = temp;
                i++;
            }
            j++;
        }
    }
}
```
