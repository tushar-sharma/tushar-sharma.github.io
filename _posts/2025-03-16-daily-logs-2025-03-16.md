
## Observations

Spring Boot's metrics litener uses Micrometer's `MeterRegsitry`. There is autoconfiguration class `MongoMetericsAutoConfiguration.class`. 

It creates a bean of `MongoClientSettingsBuilderCustomizer`

```java
MongoClientSettingsBuilderCustomizer mongoClientSettingsBuilderCustomizer(MongoMetricsCommandListener mongoMetricsCommandListener) {
  return (clientSettingsBuilder) -> clientSettingsBuilder 
     .addCommandListener(mongoMetricsCommandListener);
}
```

OpenTelemetry uses `ObservationRegistry`, we need to disable Spring's Mongodb metrics listener in `application.properties

```
management.metrics.mongo.command.enabled=false

# enable openTelemetry traces
management.tracing.enabled=true
```



