---
layout: post
title: Daily Logs for Aug 19, 2025
image: https://unsplash.com/photos//download?w=437
thumb: https://unsplash.com/photos//download?w=437
author: tushar sharma
category: blog
published: false
---

<!-- truncate_here -->

## `retrieve()` and `exchangeToMono()` in Spring WebFlux's WebClient.

```java
public Mono<?> getInstruments(String instrumentId) {
    return this.webClient
            .get()
            .uri("/instruments/{instrumentId}", instrumentId)
            .retrieve()
            .bodyToMono(Object.class);
}
```

```java
public Mono<?> getInstruments(String instrumentId) {
    return this.webClient
            .get()
            .uri("/instruments/{instrumentId}", instrumentId)
            .exchangeToMono(response -> {
                if (response.statusCode().equals(HttpStatus.OK)) {
                    return response.bodyToMono(Object.class);
                } else if (response.statusCode().equals(HttpStatus.NOT_FOUND)) {
                    return Mono.empty();
                } else {
                    return response.createError();
                }
            });
}
```

## `ParameterizedTypeReference`


```java
.retrieve()
.bodyToMono(new ParameterizedTypeReference<YourGenericType<T>>() {});
```

Or 

```
.exchangeToMono(response -> 
    response.bodyToMono(new ParameterizedTypeReference<YourGenericType<T>>() {}));
```

tradeoff is type safety.
