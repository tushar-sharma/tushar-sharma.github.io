---
layout: default
title: Matrix
summary: Welcome to Matrix
author: Tushar Sharma
published: true
---

<!-- dependencies -->
<script src="https://unpkg.com/jquery.terminal@2.35.0/js/jquery.terminal.js"></script>
<link href="{{ root_url}}/css/jquery.terminal.css" rel="stylesheet" />
<script src="https://unpkg.com/js-polyfills/keyboard.js"></script>
<script src="https://cdn.jsdelivr.net/gh/jcubic/static/js/wcwidth.js"></script>

<style>
  :root{
    --terminal-bg: #f8f8f8;
    --terminal-text: #111;    /* main text color â€” darker for a professional look */
    --terminal-muted: #6c6c6c; /* optional muted color */
    --accent: #3399cc;        /* highlight color used by .cl */
  }

  .terminal {
    color: var(--terminal-text) !important;
    font-family: "FreeMono", monospace !important;
    line-height: 1.4 !important;
    padding: 8px 15px !important;
    background: var(--terminal-bg) !important;
    border-radius: 5px !important;
    border: 1px solid #e5e5e5 !important;
    overflow-x: auto !important;
  }

  /* keep the old `.cl` styling but make it stand out from the main text */
  .terminal .cl {
    color: var(--accent) !important;
    font-weight: 600;
  }

  /* secondary highlight used elsewhere */
  .terminal .cl2 {
    color: #c0392b !important;
  }

  /* ensure inner command divs inherit the main terminal color (not grey) */
  .cmd div {
    color: inherit;
    background-color: var(--terminal-bg) !important;
  }

  /* inputs / textarea inside terminal */
  textarea#lb4yip {
    font-size: 16px !important;
    color: var(--terminal-text) !important;
    background: #fff;
  }

  /* links inside terminal use accent color */
  .terminal a {
    color: var(--accent) !important;
    text-decoration: underline;
  }

  /* man-style help */
  .terminal .man-page pre {
    font-family: "FreeMono", monospace;
    color: var(--terminal-text);
    margin: 0;
    white-space: pre;
    line-height: 1.45;
  }
  .terminal .man-page .man-cmd {
    color: var(--accent);
    font-weight: 700;
    display: inline-block;
    min-width: 18ch; /* reserve space for command column */
  }
  .terminal .man-page .man-desc {
    color: inherit;
  }
</style>

<script type="text/javascript">
(function () {
  'use strict';

  // Utilities
  const fetchIP = async () => {
    try {
      const res = await fetch('https://europe-west3-devrcc.cloudfunctions.net/whatismyip');
      if (!res.ok) return '';
      return await res.text();
    } catch (e) {
      console.warn('fetchIP failed', e);
      return '';
    }
  };

  const createTyped = (onFinish) => {
    return (term, message = '', delay = 20, finish) => {
      let i = 0;
      const prompt = term.get_prompt();
      if (!message) return;
      term.set_prompt('');
      const interval = setInterval(() => {
        term.insert(message[i++]);
        if (i === message.length) {
          clearInterval(interval);
          setTimeout(() => {
            onFinish(term, message, prompt);
            finish && finish();
          }, delay);
        }
      }, delay);
    };
  };

  const typedPrompt = createTyped((term, message, prompt) => {
    term.set_command('');
    term.set_prompt(message + ' ');
  });

  const typedMessage = createTyped((term, message, prompt) => {
    term.set_command('');
    term.echo(message);
    term.set_prompt(prompt);
  });

  // Static greeting art
  const GREET = [
    " __      __           .__                                       ",
    "/  \\    /  \\   ____   |  |     ____     ____     _____     ____  ",
    "\\   \\/\\/   / _/ __ \\  |  |   _/ ___\\   /  _ \\   /     \\  _/ __ \\  ",
    " \\        /  \\  ___/  |  |__ \\  \\___  (  <_> ) |  Y Y  \\ \\  ___/  ",
    "  \\__/\\  /    \\___  > |____/  \\___  >  \\____/  |__|_|  /  \\___  > ",
    "       \\/         \\/              \\/                 \\/       \\/ ",
    "",
    "      ----   to Random Wits   ----"
  ].join('\n') + '\n\n';

  // Command handlers map
  const handlers = {
    help(term) {
      const commands = [
        ['clear',  'Clear the terminal output'],
        ['about',  'About the site / author'],
        ['resume', 'Show resume / experience'],
        ['ls',     'List pseudo-files and folders'],
        ['songs',  'Play a random song (YouTube)'],
        ['books',  'Show current / last reads'],
        ['games',  'Show current / last games'],
        ['contact','Open contact page'],
        ['quote',  'Show a random quote'],
        ['trivia', 'Show a random trivia item'],
        ['travel', 'Show last distination'],
        ['hack',   'Load experimental scripts (legacy)'],
        ['hobbies', 'Show current hobbies'],
        ['search', 'Redirect to site search (usage: search <term>)'],
        ['hobbies', 'Current hobbies']
        ['watchlist', 'Show last and current watchlist']
      ];

      const html = ['<div class="man-page"><pre>'];
      commands.forEach(([cmd, desc]) => {
        html.push(`<span class="man-cmd">${cmd}</span>  <span class="man-desc">${desc}</span>`);
      });
      html.push('</pre></div><br>');

      term.echo(html.join('\n'), { raw: true });
    },

    about(term) {
      term.echo(
        `Hi! My name is <span class="clr">Tushar Sharma</span>. I am a software developer by vocation, blogger by hobby and a poet by genes. Feel free to explore my site or <a href="/contact">drop a line</a>.<br>`,
        { raw: true }
      );
    },

    ls(term) {
      term.echo('<span class="cl">css</span> 404.html <br> <span class="cl">js</span> index.php <br> <span class="cl">nsa_classified</span> contact.html<br> <span class="cl">evil_plan</span> spies.txt', { raw: true });
    },

    cd(term) {
      fetchIP().then(ip => {
        term.echo(`You've tried to gain access to something you are not authorized to. Your IP address has been logged. To file a dispute, submit an apology <a href="/contact">here</a>.`, { raw: true });
      });
    },

    cat(term) {
      fetchIP().then(ip => {
        term.echo(`Unauthorized access attempt logged. To avoid reporting it, submit an apology <a href="/contact">here</a>.`, { raw: true });
      });
    },

    dir(term) {
      this.ls(term);
    },

    contact() { window.location.href = '/contact'; },
    projects() { window.location.href = '/projects'; },

    search(term, args) {
      if (!args) {
        term.echo('Wrong Parameters. Usage: search <term>');
      } else {
        window.location.href = '/search/?q=' + encodeURIComponent(args);
      }
    },

    games(term) {
      term.echo('Currently playing: <span class="cl">Rachet & Clank: Rift Apart</span>. Last played: <span class="cl">Titanfall 2</span>', { raw: true });
    },

    books(term) {
      term.echo('Currently reading: <span class="cl">Oxygen: The Molecule that Made the World</span>. Last read: <span class="cl">The Psychology of Money</span>', { raw: true });
    },

    hack() {
      const scripts = ['{{ root-url }}/js/kh.js', 'https://web.archive.org/web/20140615132821/http://ajax.googleapis.com/ajax/libs/jquery/1.5.1/jquery.min.js'];
      scripts.forEach(src => {
        const s = document.createElement('script');
        s.src = src;
        document.body.appendChild(s);
      });
    },

    resume(term) {
      term.echo(
        `<span class="cl">University of Florida</span> Senior Certificate, Spring 2013.<br><span class="cl">JUIT</span> B.Tech in ECE (2009-2013).<br><span class="cl">Experience:</span> C, C++, Java, HTML, CSS, PHP, JS, Python<br><a target="_blank" href="https://dl.dropboxusercontent.com/u/85584172/resume.pdf">..resume</a>`,
        { raw: true }
      );
    },

    quote(term) {
      jQuery.get('/../quotes.txt', function (data) {
        const quotes = data.split('\n');
        const idx = Math.floor(Math.random() * (quotes.length - 1));
        term.echo(`<span style="color: rgb(51,153,204);">${quotes[idx]}</span>`, { raw: true });
      });
    },

    trivia(term) {
      jQuery.get('/../trivia.txt', function (data) {
        const trivia = data.split('\n');
        const idx = Math.floor(Math.random() * (trivia.length - 1));
        term.echo(`<span style="color: rgb(51,153,204);">${trivia[idx]}</span>`, { raw: true });
      });
    },

    travel(term) {
      term.echo('Recently I visited Peru on Oct, 2025. For more travel, <a href="{{ root _jekyll}}/travel">link</a>', { raw: true });
    },

    songs(term) {
      term.clear();
      jQuery.get('/../songs.txt', function (data) {
        const songs = data.split('\n');
        const idx = Math.floor(Math.random() * (songs.length - 1));
        const song = songs[idx];
        const video = `<iframe style="position:relative;width:100%;" height="500" src="https://www.youtube.com/embed/${song}&autoplay=1" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen title="Sample"></iframe>`;
        term.echo(`<br><br><span style="color: rgb(51,153,204);">${video}</span><br><br>`, { raw: true });
      });
    },

    hobbies(term) {
      term.echo(
        'Hobbies: <span class="cl">books, video games, Kickboxing, Table tennis, Tennis</span>',
        { raw: true }
      );
    },

    watchlist(term) {
      term.echo('Last watched: <span class="cl">Planes, Trains and Automobiles</span>. Currently watching: <span class="cl">Spy x Family</span>', { raw: true });
    },
  };

  // Terminal initialization
  $(function () {
    let firstRun = true;
    let animating = false;

    $('#foo').terminal(function (input, term) {
      const trimmed = (input || '').trim();
      if (!trimmed) return;

      // simple parsing: first token is command, rest is argument string
      const spaceIndex = trimmed.indexOf(' ');
      const cmd = spaceIndex > -1 ? trimmed.slice(0, spaceIndex) : trimmed;
      const args = spaceIndex > -1 ? trimmed.slice(spaceIndex + 1) : '';

      term.set_prompt('$ ');

      if (firstRun) {
        firstRun = false;
        term.echo(`\n\nWelcome, ${cmd || 'stranger'}! Type "help" to list available commands.\n\n`, { raw: true });
        return;
      }

      if (cmd === 'blue') {
        window.location.href = '/';
        return;
      }

      if (cmd === 'red' || cmd === 'help') {
        handlers.help(term);
        return;
      }

      // command dispatch
      const handler = handlers[cmd.toLowerCase()];
      if (handler) {
        try {
          handler.call(handlers, term, args);
        } catch (err) {
          console.error('handler error', err);
          term.echo('An error occurred while processing the command.');
        }
      } else {
        term.echo(`Unknown command <span class="cl2">${cmd}</span>. Please type <span class="cl2">help</span>.`, { raw: true });
      }

      // Preserve original backend "cmds.php" async behaviour
      $.get('cmds.php', { cmd: input }, function (result) {
        // delay echo until any animations finish (compat with original code)
        const waitForFinish = (done) => {
          if (!animating) {
            term.echo(result);
            done && done();
          } else {
            setTimeout(() => waitForFinish(done), 200);
          }
        };
        waitForFinish();
      });
    }, {
      name: 'Tushar',
      greetings: GREET,
      onInit(term) {
        // ask for name using typed prompt
        typedMessage(term, '\n', 100, () => {
          typedPrompt(term, "What's your name? :", 100);
        });
      },
      keydown(e) {
        // disable input while animating typed sequences
        if (animating) return false;
      }
    });
  });

})();
</script>

<div class="myterminal" id="foo"></div>
