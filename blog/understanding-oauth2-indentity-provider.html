<!DOCTYPE html>
<html>
  <head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <link rel="alternate" type="application/rss+xml" title="Randomwits RSS" href="/feed.xml">
    <meta charset="UTF-8">
    <!--[if IE]<meta http-equiv="X-UA-Compatible" content="chrome=1"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
<meta name="author" content="Tushar Sharma">
<meta name="description" content="Random Wits, my digital footprint.">
<meta name="keywords" content="Tushar, Sharma, Web, Development, Personal Website, Random Wits, Randomwits">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="default">
<meta property="og:site_name" content="Tushar Sharma">
<title>Getting Started with Oauth2</title>
<link rel="icon" type="image/svg+xml" href="/img/favicon.svg">
<link rel="icon" type="image/png" href="/img/favicon.png">
<link rel="stylesheet" href="/css/github.css">
<link rel="stylesheet" href="/css/font-awesome.css">
<link rel="stylesheet" href="/css/styles.css">
<script async src="/js/scale.fix.js"></script>

<!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <!-- Twitter cards -->
    <meta name="twitter:site" content="@tshrocks">
    <meta name="twitter:creator" content="@tushar sharma">
    <meta name="twitter:title" content="Getting Started with Oauth2">
    <meta name="twitter:description" content="Welcome to Randomwits, my digital nest.">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="https://images.unsplash.com/photo-1570393597884-ba37bef04adc">
    <meta property="og:image" content="https://images.unsplash.com/photo-1570393597884-ba37bef04adc">
    <!-- end of Twitter cards -->
    <!-- this is to allow mutiple tabs for code selection-->
    <script src="/js/clipboard.js"></script>
    <script src="/js/clipboard.min.js"></script>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3875134254611206" crossorigin="anonymous"></script>
    <!-- Begin Jekyll SEO tag v2.8.0 -->
    <title>Getting Started with Oauth2 | RandomWits</title>
    <meta name="generator" content="Jekyll v4.3.3">
    <meta property="og:title" content="Getting Started with Oauth2">
    <meta name="author" content="tushar sharma">
    <meta property="og:locale" content="en_US">
    <meta name="description" content="OAuth2 is an authorization framework that enables applications to access resources on behalf of a user without exposing their credentials. It is not an authentication protocol by itself — it delegates authorization securely.">
    <meta property="og:description" content="OAuth2 is an authorization framework that enables applications to access resources on behalf of a user without exposing their credentials. It is not an authentication protocol by itself — it delegates authorization securely.">
    <link rel="canonical" href="https://randomwits.com/blog/understanding-oauth2-indentity-provider">
    <meta property="og:url" content="https://randomwits.com/blog/understanding-oauth2-indentity-provider">
    <meta property="og:site_name" content="RandomWits">
    <meta property="og:image" content="https://images.unsplash.com/photo-1570393597884-ba37bef04adc">
    <meta property="og:type" content="article">
    <meta property="article:published_time" content="2025-08-21T00:00:00+00:00">
    <meta name="twitter:card" content="summary_large_image">
    <meta property="twitter:image" content="https://images.unsplash.com/photo-1570393597884-ba37bef04adc">
    <meta property="twitter:title" content="Getting Started with Oauth2">
    <script type="application/ld+json">
      {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"tushar sharma"},"dateModified":"2025-08-21T00:00:00+00:00","datePublished":"2025-08-21T00:00:00+00:00","description":"OAuth2 is an authorization framework that enables applications to access resources on behalf of a user without exposing their credentials. It is not an authentication protocol by itself — it delegates authorization securely.","headline":"Getting Started with Oauth2","image":"https://images.unsplash.com/photo-1570393597884-ba37bef04adc","mainEntityOfPage":{"@type":"WebPage","@id":"https://randomwits.com/blog/understanding-oauth2-indentity-provider"},"url":"https://randomwits.com/blog/understanding-oauth2-indentity-provider"}
    </script>
    <!-- End Jekyll SEO tag -->
  </head>
  <body>
    <noscript>
      <h4 style="background: #ffacd; margin: 0; padding: 15px; text-align: center;">
        For a better experience on RandomWits, enable JavaScript in your browser.
      </h4>
    </noscript>
    <div class="wrapper">
      <header>
        <link rel="stylesheet" href="/css/styles.css">
        <link rel="stylesheet" href="/css/toc.css">
        <script defer src="/js/toc.js" type="text/javascript"></script>
        <script async src="https://kit.fontawesome.com/7aae5464ce.js" crossorigin="anonymous"></script>
        <script async src="/js/darkreader.js" crossorigin="anonymous"></script>
        <script async src="/js/dark_wrapper.js" crossorigin="anonymous"></script>
        <style type="text/css">
          @font-face {font-family: 'Somefont';
          	src:url('/font/OneDirection.ttf');
            font-weight: normal;
            font-style: normal;
            font-display: swap;
          }

          @font-face {
            font-family: "King Basil";
            src: url("/font/King-Basil.ttf");
            font-display: swap;
          }

          .king-basil {
            font-family: "King Basil";
          }


          h1.heading { font-family: Myfont;
            color: rgb(51, 153, 204);}
          .top{color: rgb(68, 68, 68);}
          .sub{font-family:Somefont;}

          /* for the toc */
          header ul  {
            height: auto !important;
            border: none !important;
            width: auto !important;
            border-radius: 0px solid !important;
            border-right: 0px solid !important;
            font-size: 1rem !important;
            letter-spacing: 2px !important;
          }
          header ul a {
            padding-top: none !important;
            color: #39c !important;
            border-right: 0px solid !important;
            display: inline !important;
            padding: 0.5rem 1rem !important;
            border-bottom: 1px solid #39c !important;
          }

          /** toc */
          header li {
            height : auto !important;
            float: none !important;
            line-height: 140% !important;
            margin: 10px 0 !important;
            border-right: 0px solid !important;

          }
        </style>
        <div id="random" class="top king-basil" style="font-size: 32px; color: rgb(81, 170, 232); margin-bottom: 10px;">
          <a href="/">
            RandomWits
          </a>
          <a style="cursor:pointer;" class="DarkReader_Button">
            <i id="icon-dark" class="fa fa-cloud-moon"></i>
          </a>
        </div>
        <div style="clear:both;"></div>
        <div>
          <p class="me_blurb">
          </p>
          <div class="sub">
            <!-- <span id="textAnimation"></span>-->
            life is too short for a diary
          </div>
        </div>
        <!--<a href="/"><h1 class="heading">Random<span class="top">Wits</span></h1></a> -->
        <!--<p class="me_blurb"><div >beware of random wits...<br>sometimes they bite</div></p> -->
        <!--<span class="quora-follow-button" data-name="Tushar-Sharma-3">Follow <a href="http://www.quora.com/Tushar-Sharma-3">Tushar Sharma</a> on <a href="http://www.quora.com">Quora</a><script type="text/javascript" src="http://www.quora.com/widgets/follow?embed_code=Wo7vDKF"></script></span>
<br>
-->
        <!-- <h2>Projects</h2>
<div class="highlight" >
  <pre style="overflow: hidden; overflow-y: hidden;">
<code><span class="nv">$</span> latest projects</code>
     ├── <span class="nv"></span><a href="/projects/k-largest" title="Find kth largest element in an array">k-largest</a><br />     ├── <span class="nv"></span><a href="/projects/encrypt-files" title="Encrypted Files in Minix 3">encrypted-files</a><br />     └── <span class="nv"></span><a href="/projects/binary-semaphore" title="Binary Sempahore">binary-semaphore</a><br><div style="float:right;">+&nbsp;<a href="/projects">view all</a></div>
</pre>
</div>
-->
        <div class="highlight">
          <!-- Responsive Sidebar Navigation -->
          <style>
            .sidebar-hamburger {
              display: none;
              background: none;
              border: none;
              font-size: 2em;
              margin: 10px;
              cursor: pointer;
              z-index: 1001;
            }
            .nav-wrap {
              transition: right 0.3s;
            }
            @media (max-width: 800px) {
              .nav-wrap {
                position: fixed;
                top: 0;
                right: -260px;
                left: auto;
                width: 240px;
                height: 100vh;
                background: #fff;
                box-shadow: -2px 0 8px rgba(0,0,0,0.08);
                z-index: 1000;
                padding-top: 60px;
              }
              .nav-wrap.open {
                right: 0;
              }
              .sidebar-hamburger {
                display: block;
                position: fixed;
                right: 10px;
                left: auto;
                top: 10px;
                background: #fff;
                border-radius: 4px;
                box-shadow: 0 2px 8px rgba(0,0,0,0.08);
              }
              .main-nav ul {
                padding: 0;
                margin: 0;
              }
              .main-nav li {
                margin: 0;
                padding: 0;
                border-bottom: 1px solid #eee;
              }
              .main-nav a {
                display: block;
                padding: 18px 24px;
                font-size: 1.1em;
                color: #333;
                text-decoration: none;
              }
              .main-nav a:active, .main-nav a:focus {
                background: #f0f0f0;
              }
              body.sidebar-open {
                overflow: hidden;
              }
            }
          </style>
          <button class="sidebar-hamburger" aria-label="Open navigation" onclick="document.querySelector('.nav-wrap').classList.toggle('open'); document.body.classList.toggle('sidebar-open');">
            <span>☰</span>
          </button>
          <div style="clear:both;float:left;padding-bottom:15px;" class="navbar-nav">
            <div class="nav-wrap">
              <nav class="main-nav">
                <ul class="unstyled list-hover-slide">
                  <li><a href="/tags"><i class="fa fa-tag"></i> Tags</a></li>
                  <li><a href="/games"><i class="fas fa-gamepad"></i> Games</a></li>
                  <li><a href="/watchlist"><i class="fas fa-film"></i> Watchlist</a></li>
                  <li><a href="/bookshelf"><i class="fas fa-book-open"></i> Bookshelf</a></li>
                  <li><a href="/quotes"><i class="fas fa-comment-dots"></i> Quotes</a></li>
                  <li><a href="/travel"><i class="fas fa-map-marked-alt"></i> Travel</a></li>
                  <li><a href="/places"><i class="fas fa-map-pin"></i> Places</a></li>
                  <li><a href="/habits"><i class="fas fa-heartbeat"></i> Habits</a></li>
                  <li><a href="/resources"><i class="fas fa-laptop-code"></i> Resources</a></li>
                  <li><a href="/tools"><i class="fas fa-hammer"></i> Tools</a></li>
                  <li><a href="/contact"><i class="fas fa-file-signature"></i> Contact</a></li>
                  <li><a href="/about"><i class="fas fa-fingerprint"></i> About</a></li>
                </ul>
              </nav>
            </div>
          </div>
          <script>
            // Close sidebar when clicking outside (mobile)
            document.addEventListener('click', function(e) {
              var nav = document.querySelector('.nav-wrap');
              var btn = document.querySelector('.sidebar-hamburger');
              if (!nav || !btn) return;
              if (nav.classList.contains('open') && !nav.contains(e.target) && e.target !== btn && !btn.contains(e.target)) {
                nav.classList.remove('open');
                document.body.classList.remove('sidebar-open');
              }
            });
          </script>
        </div>
        <!-- only if page is root page -->
        <div id="toc-block" class="codeblock" style="display:none;">
          <h3 style="color:#39c;">
            <i class="far fa-bookmark"></i> On This Page</h3>
          <div id="toc"></div>
        </div>
        <br>
        <!-- toc page -->
        <br>
        <br>
        <script type="text/javascript">
          $(document).ready(function() {
              $('#toc').toc();
          });
        </script>
        <!-- Upvote next : disabled -->
        <!-- 
-->
        <!-- begin - this is to include Adds in the site -->
        <!-- <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3875134254611206"
     crossorigin="anonymous"></script> -->
        <!-- end - this is to include Adds in the site -->
      </header>
      <section>
        <link rel="stylesheet" href="/css/search.css">
        <link rel="stylesheet" href="/css/toc.css">
        <script src="/js/copyClipboard.js" type="text/javascript"></script>
        <!-- search box begins -->
        <div style="padding-bottom:60px; padding-top:20px; background : white;">
          <form style="float:right;" action="/search/?">
            <input type="search" name="q" placeholder="Search">
          </form>
        </div>
        <!-- search box ends -->
        <br>
        <small style="float:right; margin-top:5px;"><strong></strong></small>
        <h1>Getting Started with Oauth2</h1>
        <p>Tags:  <a class="mytag" href="/tag/oauth2" title="View posts tagged with: oauth2">oauth2</a>    <a class="mytag" href="/tag/java" title="View posts tagged with: java">java</a>    <a class="mytag" href="/tag/spring%20boot" title="View posts tagged with: spring boot">spring boot</a>    </p>
        <div class="author-info">
          <div class="author-image">
            <img src="/img/tushar_sharma.jpg" alt="Author">
          </div>
          <span class="author-name">Written by: 
            Tushar
            Sharma
          </span>
        </div>
        <div class="post-featured-image" style="text-align:center; margin-bottom:20px;">
          <img src="https://images.unsplash.com/photo-1570393597884-ba37bef04adc?w=800" alt="Featured image for Getting Started with Oauth2" style="max-width:100%; height:auto;">
        </div>
        <p>OAuth2 is an authorization framework that enables applications to access resources on behalf of a user without exposing their credentials. It is not an authentication protocol by itself — it delegates authorization securely.</p>
        <h3 id="why-oauth2">Why OAuth2?</h3>
        <p>Imagine an app that needs access to your Gmail. Instead of asking for your password (a security risk), it redirects you to Google’s login page. After you log in, Google issues a token to the app. The app uses this token to access your data — you never shared your password.</p>
        <p>This is OAuth2 in action: secure, delegated access</p>
        <h3 id="core-oauth2-flow-authorization-code-flow">Core OAuth2 Flow (Authorization Code Flow)</h3>
        <ol>
          <li>Redirect to /authorize endpoint
            The app redirects the user to the authorization server (e.g., Google, Okta).
            Example:</li>
        </ol>
        <div class="language-plaintext highlighter-rouge">
          <div class="highlight">
            <pre class="highlight"><code>https://accounts.google.com/oauth2/authorize?
  client_id=CLIENT_ID&amp;
  redirect_uri=CALLBACK_URL&amp;
  response_type=code&amp;
  scope=email profile
</code></pre>
          </div>
        </div>
        <ol>
          <li>
            <p>User logs in and consents
              The identity provider authenticates the user and asks for permission.</p>
          </li>
          <li>
            <p>Authorization server redirects with a code
              On success, it sends a one-time-use authorization code to the redirect_uri</p>
          </li>
          <li>
            <p>App exchanges code for tokens
              The backend calls the /token endpoint:</p>
          </li>
        </ol>
        <div class="language-plaintext highlighter-rouge">
          <div class="highlight">
            <pre class="highlight"><code>POST /token
Body: client_id, client_secret, code, redirect_uri, grant_type=authorization_code
</code></pre>
          </div>
        </div>
        <p>Response includes:</p>
        <ul>
          <li>
            <p><strong>access_token</strong> – to access resources</p>
          </li>
          <li>
            <p><strong>id_token (if OpenID Connect)</strong> – for user identity</p>
          </li>
          <li>
            <p><strong>refresh_token</strong> – to get new access tokens</p>
          </li>
        </ul>
        <ol>
          <li>Use access token
            Include in requests as:</li>
        </ol>
        <div class="language-plaintext highlighter-rouge">
          <div class="highlight">
            <pre class="highlight"><code>Authorization: Bearer &lt;access_token&gt;
</code></pre>
          </div>
        </div>
        <h3 id="key-concepts">Key Concepts</h3>
        <ul>
          <li>
            <p>Authorization Server: Issues tokens after verifying identity (e.g., Google, Okta, Azure AD).</p>
          </li>
          <li>
            <p>Resource Owner: The user who owns the data.</p>
          </li>
          <li>
            <p>JWT (JSON Web Token): (Base64URL-encoded) dot separated string like : "xxx.yyy.zzz" which is (header.payload.signature). Can be decoded but not modified</p>
          </li>
          <li>
            <p>Identity Provider (IdP): Service implementing OAuth2/OpenID Connect (e.g., Auth0, Okta, Entra ID).</p>
          </li>
        </ul>
        <h3 id="oauth2-vs-openid-connect-oidc">OAuth2 vs OpenID Connect (OIDC)</h3>
        <ul>
          <li>
            <p>OAuth2: Authorization only (what can the app do?)</p>
          </li>
          <li>
            <p>OpenID Connect (OIDC): Adds authentication layer on top of OAuth2.</p>
          </li>
        </ul>
        <p>OIDC introduces:</p>
        <ul>
          <li>
            <p>id_token (a JWT containing user identity)</p>
          </li>
          <li>
            <p>/userinfo endpoint (returns user details like name, email)</p>
          </li>
          <li>
            <p>openid scope (required to trigger OIDC flow)</p>
          </li>
          <li>
            <p>Always use OIDC when you need to log in users.</p>
          </li>
        </ul>
        <h3 id="common-oauth2-flows">Common OAuth2 Flows</h3>
        <table>
          <thead>
            <tr>
              <th>Flow</th>
              <th>Use Case</th>
              <th>Client Type</th>
              <th>Security Notes</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><strong>Authorization Code</strong></td>
              <td>Web applications with a backend</td>
              <td>Confidential</td>
              <td>Recommended for server-side apps</td>
            </tr>
            <tr>
              <td><strong>Authorization Code + PKCE</strong></td>
              <td>Single-Page Apps (SPAs), mobile apps</td>
              <td>Public</td>
              <td>Secure against code interception; required for SPAs</td>
            </tr>
            <tr>
              <td><strong>Client Credentials</strong></td>
              <td>Machine-to-machine (M2M) communication</td>
              <td>Confidential</td>
              <td>For service accounts, not end-user access</td>
            </tr>
            <tr>
              <td><strong>Implicit (Legacy)</strong></td>
              <td>Older SPAs (no backend)</td>
              <td>Public</td>
              <td>❌ Deprecated — do not use</td>
            </tr>
            <tr>
              <td><strong>Resource Owner Password Credentials</strong></td>
              <td>Trusted first-party apps only</td>
              <td>Confidential</td>
              <td>Only if absolutely necessary; avoid in favor of OAuth2 flows</td>
            </tr>
          </tbody>
        </table>
        <h4 id="when-to-use-which-flow">When to Use Which Flow?</h4>
        <ul>
          <li>
            <strong>User Login (Web App)</strong>: Authorization Code</li>
          <li>
            <strong>React/Angular App</strong>: Authorization Code + PKCE</li>
          <li>
            <strong>Backend Service Calling API</strong>: Client Credentials</li>
          <li>
            <strong>Native Mobile App</strong>: Authorization Code + PKCE</li>
          <li>
            <strong>Testing in Postman</strong>: Authorization Code + PKCE</li>
        </ul>
        <h3 id="oauth2-in-java-spring-boot">OAuth2 in Java Spring Boot</h3>
        <h4 id="using-token-from-ui">Using token from UI</h4>
        <p>If your UI already has an access token:</p>
        <div class="language-java highlighter-rouge">
          <div class="highlight">
            <pre class="highlight"><code><span class="nd">@Repository</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Repository</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">final</span> <span class="nc">WebClient</span> <span class="n">webClient</span><span class="o">;</span>

    <span class="kd">public</span> <span class="nf">Repository</span><span class="o">(</span><span class="nc">WebClient</span><span class="o">.</span><span class="na">Builder</span> <span class="n">webClientBuilder</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">webClient</span> <span class="o">=</span> <span class="n">webClientBuilder</span>
                          <span class="o">.</span><span class="na">baseUrl</span><span class="o">(</span><span class="s">"URL"</span><span class="o">)</span>
                          <span class="o">.</span><span class="na">filter</span><span class="o">(</span><span class="k">new</span> <span class="nc">ServerBearerExchange</span><span class="o">(</span><span class="nc">FilterFunction</span><span class="o">))</span>
                          <span class="o">.</span><span class="na">build</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
          </div>
        </div>
        <h3 id="using-client-credentials-flow">Using Client Credentials Flow</h3>
        <p>in application.yaml</p>
        <div class="language-yaml highlighter-rouge">
          <div class="highlight">
            <pre class="highlight"><code><span class="na">api</span><span class="pi">:</span>
  <span class="na">auth2</span><span class="pi">:</span>
    <span class="na">provider</span><span class="pi">:</span>
      <span class="na">issuer-uri</span><span class="pi">:</span> <span class="s2">"</span><span class="s">https://auth-server.com/oauth2"</span>
    <span class="na">client</span><span class="pi">:</span>
      <span class="na">client-id</span><span class="pi">:</span> <span class="s2">"</span><span class="s">CLIENT_ID"</span>
      <span class="na">client-secret</span><span class="pi">:</span> <span class="s2">"</span><span class="s">CLIENT_SECRET"</span>
      <span class="na">authorization-grant-type</span><span class="pi">:</span> <span class="s">client_credentials</span>
      <span class="na">scope</span><span class="pi">:</span> <span class="s2">"</span><span class="s">read</span><span class="nv"> </span><span class="s">write"</span>

</code></pre>
          </div>
        </div>
        <p>Set up a reactive WebClient that automatically fetches and attaches OAuth2 tokens using client credentials.</p>
        <div class="language-java highlighter-rouge">
          <div class="highlight">
            <pre class="highlight"><code><span class="nd">@Configuration</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">WebClientConfig</span> <span class="o">{</span>

    <span class="nd">@Bean</span>
    <span class="kd">public</span> <span class="nc">WebClient</span> <span class="nf">webClient</span><span class="o">(</span><span class="nc">WebClient</span><span class="o">.</span><span class="na">Builder</span> <span class="n">webClientBuilder</span><span class="o">,</span>
                               <span class="nd">@Value</span><span class="o">(</span><span class="s">"${apis.url}"</span><span class="o">)</span> <span class="nc">String</span> <span class="n">apiUrl</span><span class="o">,</span>
                               <span class="nd">@Value</span><span class="o">(</span><span class="s">"${api.auth2.provider.issuer-uri}"</span><span class="o">)</span> <span class="nc">String</span> <span class="n">issuerUri</span><span class="o">,</span>
                               <span class="nd">@Value</span><span class="o">(</span><span class="s">"${api.auth2.client.client-id}"</span><span class="o">)</span> <span class="nc">String</span> <span class="n">clientId</span><span class="o">,</span>
                               <span class="nd">@Value</span><span class="o">(</span><span class="s">"${api.auth2.client.client-secret}"</span><span class="o">)</span> <span class="nc">String</span> <span class="n">clientSecret</span><span class="o">,</span>
                               <span class="nd">@Value</span><span class="o">(</span><span class="s">"${api.auth2.client.scope}"</span><span class="o">)</span> <span class="nc">String</span> <span class="n">scope</span><span class="o">)</span> <span class="o">{</span>

        <span class="nc">ClientRegistration</span> <span class="n">clientRegistration</span> <span class="o">=</span> <span class="nc">ClientRegistration</span>
                <span class="o">.</span><span class="na">withRegistrationId</span><span class="o">(</span><span class="s">"instrument-api"</span><span class="o">)</span>
                <span class="o">.</span><span class="na">tokenUri</span><span class="o">(</span><span class="n">issuerUri</span> <span class="o">+</span> <span class="s">"/v1/token"</span><span class="o">)</span>
                <span class="o">.</span><span class="na">clientId</span><span class="o">(</span><span class="n">clientId</span><span class="o">)</span>
                <span class="o">.</span><span class="na">clientSecret</span><span class="o">(</span><span class="n">clientSecret</span><span class="o">)</span>
                <span class="o">.</span><span class="na">authorizationGrantType</span><span class="o">(</span><span class="nc">AuthorizationGrantType</span><span class="o">.</span><span class="na">CLIENT_CREDENTIALS</span><span class="o">)</span>
                <span class="o">.</span><span class="na">scope</span><span class="o">(</span><span class="n">scope</span><span class="o">)</span>
                <span class="o">.</span><span class="na">build</span><span class="o">();</span>

        <span class="nc">ReactiveClientRegistrationRepository</span> <span class="n">clientRegistrations</span> <span class="o">=</span>
                <span class="k">new</span> <span class="nf">InMemoryReactiveClientRegistrationRepository</span><span class="o">(</span><span class="n">clientRegistration</span><span class="o">);</span>

        <span class="nc">ReactiveOAuth2AuthorizedClientService</span> <span class="n">authorizedClientService</span> <span class="o">=</span>
                <span class="k">new</span> <span class="nf">InMemoryReactiveOAuth2AuthorizedClientService</span><span class="o">(</span><span class="n">clientRegistrations</span><span class="o">);</span>

        <span class="k">return</span> <span class="n">webClientBuilder</span>
                <span class="o">.</span><span class="na">filter</span><span class="o">(</span><span class="k">new</span> <span class="nc">ServerOAuth2AuthorizedClientExchangeFilterFunction</span><span class="o">(</span>
                        <span class="k">new</span> <span class="nf">AuthorizedClientServiceReactiveOAuth2AuthorizedClientManager</span><span class="o">(</span>
                                <span class="n">clientRegistrations</span><span class="o">,</span> <span class="n">authorizedClientService</span><span class="o">)))</span>
                <span class="o">.</span><span class="na">baseUrl</span><span class="o">(</span><span class="n">apiUrl</span><span class="o">)</span>
                <span class="o">.</span><span class="na">defaultHeader</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
                <span class="o">.</span><span class="na">build</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>

</code></pre>
          </div>
        </div>
        <!-- this is for pagination -->
        <nav class="pagination clear" style="padding-bottom:20px;">
          <a class="prev-item" href="/blog/stillcolors-in-mac" title="Previous Post: StillColor for macOS: Disable Temporal Dithering">←Previous</a>     <a class="next-item" href="/blog/steam-deck-return" title="Next Post: Returning Steam Deck for Repair">Next→</a>
        </nav>
        <hr>
        <div id="disqus_thread"></div>
        <script type="text/javascript">
          /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
          var disqus_shortname = 'randomwits'; // required: replace example with your forum shortname
          var disqus_identifier = '/blog/understanding-oauth2-indentity-provider';
          	    var disqus_url = 'http://tushar-sharma.github.io/blog/understanding-oauth2-indentity-provider';

          /* * * DON'T EDIT BELOW THIS LINE * * */
          (function() {
              var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
              dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
              (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
          })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a>
        </noscript>
        <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
      </section>
    </div>
    <div style="clear:both;"></div>
    <div class="wrapper">
      <footer>
        <!-- <p><small>Tushar Sharma &copy; 2026</small></p> -->
        <link rel="stylesheet" href="/css/font-awesome.css">
        <script src="/js/scroll_top.js" type="text/javascript"></script>
        <script src="/js/scroll_top.js" type="text/javascript"></script>
        <div class="footer">
          <hr>
          <!--
  
    <div> <a href="/blog/"> blog </a> </div> <br>
  
    <div> <a href="/projects/"> projects </a> </div> <br>
  
    <div> <a href="/Blog/"> Blog </a> </div> <br>
  `
  -->
          <div style="margin: 0 auto; text-align: center; font-size:large;">
            <span><small>Made with <span style="color:#e00"><i class="icon-heart"></i></span> &amp; help from <a href="https://www.linkedin.com/in/sharmiwish" target="_blank">Vishi</a>  <br>
                Tushar Sharma © 2026
                <a title="Email" href="mailto:tushar@randomwits.com">
                  <i class="icon-envelope-alt icon-large"></i>  
                </a>
                <!--
  <a href="/contact/">
    <i class="icon-bell"></i> &nbsp;
  </a>
  <a title="PGP key"  href="http://pgp.mit.edu/pks/lookup?op=get&search=0xD339D367130569DC">
    <i class="icon-key"></i> &nbsp;
  </a>
  -->
                <a title="Github" href="https://github.com/tushar-sharma" target="_blank">
                  <i class="icon-github icon-large"></i>   
                </a>
                <a title="Linkedin" href="http://in.linkedin.com/in/tsharma3" target="_blank">
                  <i class="icon-linkedin icon-large"></i>  
                </a>
                <a title="Twitter" href="https://twitter.com/tshrocks" target="_blank">
                  <i class="icon-twitter icon-large"></i>  
                </a>
                <a title="Facebook" href="https://www.facebook.com/tushar.sharma1729" target="_blank">
                  <i class="icon-facebook icon-large"></i>  
                </a>
                <a title="RSS" href="/feed.xml">
                  <i class="icon-rss icon-large"></i>
                </a>
              </small></span><br>
            <br>
          </div>
          <div style="clear:both;">
            <hr>
          </div>
          <script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-43895904-1', 'randomwits.com');
            ga('send', 'pageview');
          </script>
          <!-- back to top scroll -->
          <br>
          <br>
          <br>
          <br>
          <p id="back-top">
            <a href="#top">
              <span>
                <i class="fas fa-arrow-up"></i>
              </span>
            </a>
          </p>
        </div>
      </footer>
    </div>
  </body>
</html>
