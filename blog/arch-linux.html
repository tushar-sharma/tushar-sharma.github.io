<!DOCTYPE html>
<html>
  <head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <link rel="alternate" type="application/rss+xml" title="Randomwits RSS" href="/feed.xml">
    <meta charset="UTF-8">
    <!--[if IE]<meta http-equiv="X-UA-Compatible" content="chrome=1"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
<meta name="author" content="Tushar Sharma">
<meta name="description" content="Random Wits, my digital footprint.">
<meta name="keywords" content="Tushar, Sharma, Web, Development, Personal Website, Random Wits, Randomwits">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="default">
<meta property="og:site_name" content="Tushar Sharma">
<title>Guide to install Arch Linux</title>
<link rel="icon" type="image/svg+xml" href="/img/favicon.svg">
<link rel="icon" type="image/png" href="/img/favicon.png">
<link rel="stylesheet" href="/css/github.css">
<link rel="stylesheet" href="/css/font-awesome.css">
<link rel="stylesheet" href="/css/styles.css">
<script async src="/js/scale.fix.js"></script>

<!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <!-- Twitter cards -->
    <meta name="twitter:site" content="@tshrocks">
    <meta name="twitter:creator" content="@">
    <meta name="twitter:title" content="Guide to install Arch Linux">
    <meta name="twitter:description" content="Welcome to Randomwits, my digital nest.">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:image" content="https://i.imgur.com/4HK7q8C.jpg">
    <meta property="og:image" content="https://i.imgur.com/4HK7q8C.jpg">
    <!-- end of Twitter cards -->
    <!-- this is to allow mutiple tabs for code selection-->
    <script src="/js/clipboard.js"></script>
    <script src="/js/clipboard.min.js"></script>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3875134254611206" crossorigin="anonymous"></script>
    <!-- Begin Jekyll SEO tag v2.8.0 -->
    <title>Guide to install Arch Linux | RandomWits</title>
    <meta name="generator" content="Jekyll v4.3.3">
    <meta property="og:title" content="Guide to install Arch Linux">
    <meta name="author" content="Tushar Sharma">
    <meta property="og:locale" content="en_US">
    <meta name="description" content="Welcome to Randomwits, my digital nest.">
    <meta property="og:description" content="Welcome to Randomwits, my digital nest.">
    <link rel="canonical" href="https://randomwits.com/blog/arch-linux">
    <meta property="og:url" content="https://randomwits.com/blog/arch-linux">
    <meta property="og:site_name" content="RandomWits">
    <meta property="og:type" content="article">
    <meta property="article:published_time" content="2015-12-26T00:00:00+00:00">
    <meta name="twitter:card" content="summary">
    <meta property="twitter:title" content="Guide to install Arch Linux">
    <script type="application/ld+json">
      {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Tushar Sharma"},"dateModified":"2015-12-26T00:00:00+00:00","datePublished":"2015-12-26T00:00:00+00:00","description":"Welcome to Randomwits, my digital nest.","headline":"Guide to install Arch Linux","mainEntityOfPage":{"@type":"WebPage","@id":"https://randomwits.com/blog/arch-linux"},"url":"https://randomwits.com/blog/arch-linux"}
    </script>
    <!-- End Jekyll SEO tag -->
  </head>
  <body>
    <noscript>
      <h4 style="background: #ffacd; margin: 0; padding: 15px; text-align: center;">
        For a better experience on RandomWits, enable JavaScript in your browser.
      </h4>
    </noscript>
    <div class="wrapper">
      <header>
        <link rel="stylesheet" href="/css/styles.css">
        <link rel="stylesheet" href="/css/toc.css">
        <script defer src="/js/toc.js" type="text/javascript"></script>
        <script async src="https://kit.fontawesome.com/7aae5464ce.js" crossorigin="anonymous"></script>
        <script async src="/js/darkreader.js" crossorigin="anonymous"></script>
        <script async src="/js/dark_wrapper.js" crossorigin="anonymous"></script>
        <style type="text/css">
          @font-face {font-family: 'Somefont';
          	src:url('/font/OneDirection.ttf');
            font-weight: normal;
            font-style: normal;
            font-display: swap;
          }

          @font-face {
            font-family: "King Basil";
            src: url("/font/King-Basil.ttf");
            font-display: swap;
          }

          .king-basil {
            font-family: "King Basil";
          }


          h1.heading { font-family: Myfont;
            color: rgb(51, 153, 204);}
          .top{color: rgb(68, 68, 68);}
          .sub{font-family:Somefont;}

          /* for the toc */
          header ul  {
            height: auto !important;
            border: none !important;
            width: auto !important;
            border-radius: 0px solid !important;
            border-right: 0px solid !important;
            font-size: 1rem !important;
            letter-spacing: 2px !important;
          }
          header ul a {
            padding-top: none !important;
            color: #39c !important;
            border-right: 0px solid !important;
            display: inline !important;
            padding: 0.5rem 1rem !important;
            border-bottom: 1px solid #39c !important;
          }

          /** toc */
          header li {
            height : auto !important;
            float: none !important;
            line-height: 140% !important;
            margin: 10px 0 !important;
            border-right: 0px solid !important;

          }
        </style>
        <div id="random" class="top king-basil" style="font-size: 32px; color: rgb(81, 170, 232); margin-bottom: 10px;">
          <a href="/">
            RandomWits
          </a>
          <a style="cursor:pointer;" class="DarkReader_Button">
            <i id="icon-dark" class="fa fa-cloud-moon"></i>
          </a>
        </div>
        <div style="clear:both;"></div>
        <div>
          <p class="me_blurb">
          </p>
          <div class="sub">
            <!-- <span id="textAnimation"></span>-->
            life is too short for a diary
          </div>
        </div>
        <!--<a href="/"><h1 class="heading">Random<span class="top">Wits</span></h1></a> -->
        <!--<p class="me_blurb"><div >beware of random wits...<br>sometimes they bite</div></p> -->
        <!--<span class="quora-follow-button" data-name="Tushar-Sharma-3">Follow <a href="http://www.quora.com/Tushar-Sharma-3">Tushar Sharma</a> on <a href="http://www.quora.com">Quora</a><script type="text/javascript" src="http://www.quora.com/widgets/follow?embed_code=Wo7vDKF"></script></span>
<br>
-->
        <!-- <h2>Projects</h2>
<div class="highlight" >
  <pre style="overflow: hidden; overflow-y: hidden;">
<code><span class="nv">$</span> latest projects</code>
     ├── <span class="nv"></span><a href="/projects/k-largest" title="Find kth largest element in an array">k-largest</a><br />     ├── <span class="nv"></span><a href="/projects/encrypt-files" title="Encrypted Files in Minix 3">encrypted-files</a><br />     └── <span class="nv"></span><a href="/projects/binary-semaphore" title="Binary Sempahore">binary-semaphore</a><br><div style="float:right;">+&nbsp;<a href="/projects">view all</a></div>
</pre>
</div>
-->
        <div class="highlight">
          <!-- Responsive Sidebar Navigation -->
          <style>
            .sidebar-hamburger {
              display: none;
              background: none;
              border: none;
              font-size: 2em;
              margin: 10px;
              cursor: pointer;
              z-index: 1001;
            }
            .nav-wrap {
              transition: right 0.3s;
            }
            @media (max-width: 800px) {
              .nav-wrap {
                position: fixed;
                top: 0;
                right: -260px;
                left: auto;
                width: 240px;
                height: 100vh;
                background: #fff;
                box-shadow: -2px 0 8px rgba(0,0,0,0.08);
                z-index: 1000;
                padding-top: 60px;
              }
              .nav-wrap.open {
                right: 0;
              }
              .sidebar-hamburger {
                display: block;
                position: fixed;
                right: 10px;
                left: auto;
                top: 10px;
                background: #fff;
                border-radius: 4px;
                box-shadow: 0 2px 8px rgba(0,0,0,0.08);
              }
              .main-nav ul {
                padding: 0;
                margin: 0;
              }
              .main-nav li {
                margin: 0;
                padding: 0;
                border-bottom: 1px solid #eee;
              }
              .main-nav a {
                display: block;
                padding: 18px 24px;
                font-size: 1.1em;
                color: #333;
                text-decoration: none;
              }
              .main-nav a:active, .main-nav a:focus {
                background: #f0f0f0;
              }
              body.sidebar-open {
                overflow: hidden;
              }
            }
          </style>
          <button class="sidebar-hamburger" aria-label="Open navigation" onclick="document.querySelector('.nav-wrap').classList.toggle('open'); document.body.classList.toggle('sidebar-open');">
            <span>☰</span>
          </button>
          <div style="clear:both;float:left;padding-bottom:15px;" class="navbar-nav">
            <div class="nav-wrap">
              <nav class="main-nav">
                <ul class="unstyled list-hover-slide">
                  <li><a href="/tags"><i class="fa fa-tag"></i> Tags</a></li>
                  <li><a href="/games"><i class="fas fa-gamepad"></i> Games</a></li>
                  <li><a href="/watchlist"><i class="fas fa-film"></i> Watchlist</a></li>
                  <li><a href="/bookshelf"><i class="fas fa-book-open"></i> Bookshelf</a></li>
                  <li><a href="/quotes"><i class="fas fa-comment-dots"></i> Quotes</a></li>
                  <li><a href="/travel"><i class="fas fa-map-marked-alt"></i> Travel</a></li>
                  <li><a href="/places"><i class="fas fa-map-pin"></i> Places</a></li>
                  <li><a href="/habits"><i class="fas fa-heartbeat"></i> Habits</a></li>
                  <li><a href="/resources"><i class="fas fa-laptop-code"></i> Resources</a></li>
                  <li><a href="/tools"><i class="fas fa-hammer"></i> Tools</a></li>
                  <li><a href="/contact"><i class="fas fa-file-signature"></i> Contact</a></li>
                  <li><a href="/about"><i class="fas fa-fingerprint"></i> About</a></li>
                </ul>
              </nav>
            </div>
          </div>
          <script>
            // Close sidebar when clicking outside (mobile)
            document.addEventListener('click', function(e) {
              var nav = document.querySelector('.nav-wrap');
              var btn = document.querySelector('.sidebar-hamburger');
              if (!nav || !btn) return;
              if (nav.classList.contains('open') && !nav.contains(e.target) && e.target !== btn && !btn.contains(e.target)) {
                nav.classList.remove('open');
                document.body.classList.remove('sidebar-open');
              }
            });
          </script>
        </div>
        <!-- only if page is root page -->
        <div id="toc-block" class="codeblock" style="display:none;">
          <h3 style="color:#39c;">
            <i class="far fa-bookmark"></i> On This Page</h3>
          <div id="toc"></div>
        </div>
        <br>
        <!-- toc page -->
        <br>
        <br>
        <script type="text/javascript">
          $(document).ready(function() {
              $('#toc').toc();
          });
        </script>
        <!-- Upvote next : disabled -->
        <!-- 
-->
        <!-- begin - this is to include Adds in the site -->
        <!-- <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3875134254611206"
     crossorigin="anonymous"></script> -->
        <!-- end - this is to include Adds in the site -->
      </header>
      <section>
        <link rel="stylesheet" href="/css/search.css">
        <link rel="stylesheet" href="/css/toc.css">
        <script src="/js/copyClipboard.js" type="text/javascript"></script>
        <!-- search box begins -->
        <div style="padding-bottom:60px; padding-top:20px; background : white;">
          <form style="float:right;" action="/search/?">
            <input type="search" name="q" placeholder="Search">
          </form>
        </div>
        <!-- search box ends -->
        <br>
        <small style="float:right; margin-top:5px;"><strong></strong></small>
        <h1>Guide to install Arch Linux</h1>
        <p>Tags:  <a class="mytag" href="/tag/arch" title="View posts tagged with: arch">arch</a>    <a class="mytag" href="/tag/linux" title="View posts tagged with: linux">linux</a>    <a class="mytag" href="/tag/install" title="View posts tagged with: install">install</a>    </p>
        <div class="post-featured-image" style="text-align:center; margin-bottom:20px;">
          <img src="?w=800" alt="Featured image for Guide to install Arch Linux" style="max-width:100%; height:auto;">
        </div>
        <script type="text/javascript" src="/js/shCore.js"></script>
        <script type="text/javascript" src="/js/shBrushCpp.js"></script>
        <link type="text/css" rel="stylesheet" href="/css/shCoreDefault.css">
        <script type="text/javascript">
          SyntaxHighlighter.all();
        </script>
        <p>I finally divorced <code class="language-plaintext highlighter-rouge">Windows</code> soon after I fell in love with Linux. Ubuntu was my first love. I met her on <code class="language-plaintext highlighter-rouge">Distrowatch</code>. But she spoke no English. So I spent hours gawking at her sleaky terminal trying to learn her language, <code class="language-plaintext highlighter-rouge">bash</code>.</p>
        <p>Soon I flirted with others; Mint came but reminded me of my ex, Fedora had a different <code class="language-plaintext highlighter-rouge">yum</code>, BSD couldn't agree on my license, Debian was old schooled. Few months ago, I discovered grey hair on my head and decided to settle down. So I started looking for someone who was simple yet was elegant. Little did I know that I would stumble upon Arch Linux.</p>
        <p>Dating Arch is a different game. She is not just another <code class="language-plaintext highlighter-rouge">click-next-install</code> Linux. Like any good relationship, it needs time. So you need to undertand <code class="language-plaintext highlighter-rouge">bricks &amp; bolts</code> of Linux system. Well it turns out, learning Arch is much simpler than building a house in LEGO.</p>
        <p>
          <img src="/img/lego_walls.jpg">
        </p>
        <h1 id="step-1--find-the-base">Step 1 : Find the base</h1>
        <p>Through out this guide, I'll keep our LEGO analogy. At the end we'll have a working house i.e. Arch Linux. But before we begin installing Arch, we need to decide our base.</p>
        <p>Loosely speaking, Base is a box on which the Arch Linux will be installed. There are multiple candidates for the base</p>
        <ol>
          <li>Whole system</li>
          <li>Dual Boot</li>
          <li>Hypervisor</li>
        </ol>
        <p><b>Whole System</b> : Choose this if you want to remain faithful to only Arch Linux. This would wipe off any other operating system you have on your computer. Though Arch is great, however some your fancy hardware may not find their drivers. If you like games, probably you also occassionally need to talk to Windows. </p>
        <p><b>Dual Boot</b> : Choose this if you want the best of both worlds. You can install Arch Linux along side your legacy operating system. However this requires little effort in trying to keep both operating system together. You need to manually partition physical file system and edit the boot loader.</p>
        <p><strong>Hypervisor</strong> : Choose this if you dont want to physically partition your memory. It lets you create an abstraction layer where you could virtually run mutliple operating systems. Also if you're beginning to learn Arch Linux, I would recommend you to proceed with this method.</p>
        <h1 id="step-2--plan-your-house">Step 2 : Plan your house</h1>
        <p>Next step in our LEGO design, require us to plan our house. For Arch Linux, we need to prepare our system before installing Arch it.</p>
        <p>I'm assuming that you have createa a bootable medium (CD or usb)  for Arch Linux. If you are on a Unix like system, you can type</p>
        <div class="language-plaintext highlighter-rouge">
          <div class="highlight">
            <pre class="highlight"><code>$ sudo dd if=/path/to/arch.iso  of=/dev/sdX bs=4m &amp;&amp; sync
</code></pre>
          </div>
        </div>
        <p>If you are using Windows, you can find many bootable software like Unetbootin.</p>
        <p>Next you need to plug in your bootable medium &amp; select your computer to boot from that instead of your default boot medium. After successful booting, you will be greeted with a bluish black screen with multiple options. I'll proceed with the first option which loads a 64 bits Arch Linux. </p>
        <p>
          <img src="/img/arch_start.png">
        </p>
        <p>
          <img src="/img/arch_root.png">
        </p>
        <p>Check all the available <strong>sysfs filesystem</strong> on the system. We only have one primary hard drive <code class="language-plaintext highlighter-rouge">/dev/sda</code>.</p>
        <div class="language-plaintext highlighter-rouge">
          <div class="highlight">
            <pre class="highlight"><code># lsblk
</code></pre>
          </div>
        </div>
        <p>
          <img src="/img/arch_lsblk.png">
        </p>
        <p>Next we need to partition the filesystem. I'll divide the filesystem into following</p>
        <p>1.<strong>BIOS Partition</strong> : This is the partition for BIOS grub.  We set "bios_grub" flag on.</p>
        <p>2.<strong>Boot Partition</strong> : This is the partition for virtual "boot loader".</p>
        <p>3.<strong>Swap Partition</strong> : (Optional) This is used for computer to free use extra space, when computer with lots of applications running can free some <code class="language-plaintext highlighter-rouge">RAM</code>.</p>
        <p>4.<strong>Root Partition</strong> : This is the partition that serves as the highest level of your computer’s file system</p>
        <p>5.<strong>Home Partition</strong> : This is the partition where rest of your files and personal settings will live.</p>
        <p>Each partition information is stored in "partition table". There are 2 main formats in use: the classic Master Boot Record, and the modern GUID Partition Table. I'll be using GPT partition table which is an improved version that does away with several limitations of MBR style.</p>
        <p>To use <strong>GPT partition</strong>, type</p>
        <div class="language-plaintext highlighter-rouge">
          <div class="highlight">
            <pre class="highlight"><code># gdisk /dev/sda
</code></pre>
          </div>
        </div>
        <p>
          <img src="/img/arch_gdisk.png">
        </p>
        <p>To create five partion, follow five parts</p>
        <h2 id="create-partition-one">Create Partition ONE</h2>
        <ol>
          <li>
            <p>Type ‘n’ at the prompt and hit 'Return'.</p>
          </li>
          <li>
            <p>When it asks for a partition number, hit ‘Return’ to accept the default (1).</p>
          </li>
          <li>
            <p>When it asks for a “first sector”, hit 'Return' to accept the default.  This will start the partition at the beginning of your virtual hard disk.</p>
          </li>
          <li>
            <p>When it asks for a “last sector”, type  '+32m'. This will create 32 megabytes in size, which is used for BIOS grub.</p>
          </li>
          <li>
            <p>When it asks for a "hex code", type 'EF02' and hit 'Return'</p>
          </li>
        </ol>
        <p>
          <img src="/img/arch_gpt.png">
        </p>
        <h2 id="create-partition-two">Create Partition Two</h2>
        <ol>
          <li>
            <p>Type ‘n’ at the prompt and hit 'Return'.</p>
          </li>
          <li>
            <p>When it asks for a partition number, hit ‘Return’ to accept the default (1).</p>
          </li>
          <li>
            <p>When it asks for a “first sector”, hit 'Return' to accept the default.  This will start the partition at the beginning of your virtual hard disk.</p>
          </li>
          <li>
            <p>When it asks for a “last sector”, type  '+1g'. This will create 1 gigabytes in size, which is used for bootloader partition.</p>
          </li>
          <li>
            <p>When it asks for a "hex code", type '8300' and hit 'Return'</p>
          </li>
        </ol>
        <h2 id="create-partition-three">Create Partition Three</h2>
        <ol>
          <li>
            <p>Type ‘n’ at the prompt and hit 'Return'.</p>
          </li>
          <li>
            <p>When it asks for a partition number, hit ‘Return’ to accept the default (1).</p>
          </li>
          <li>
            <p>When it asks for a “first sector”, hit 'Return' to accept the default.  This will start the partition at the beginning of your virtual hard disk.</p>
          </li>
          <li>
            <p>When it asks for a “last sector”, type  '+2g'. This will create 2 gigabytes in size, which is used for swap partition.</p>
          </li>
          <li>
            <p>When it asks for a "hex code", type '8200' and hit 'Return'</p>
          </li>
        </ol>
        <h2 id="create-partition-four">Create Partition Four</h2>
        <ol>
          <li>
            <p>Type ‘n’ at the prompt and hit 'Return'.</p>
          </li>
          <li>
            <p>When it asks for a partition number, hit ‘Return’ to accept the default (1).</p>
          </li>
          <li>
            <p>When it asks for a “first sector”, hit 'Return' to accept the default.  This will start the partition at the beginning of your virtual hard disk.</p>
          </li>
          <li>
            <p>When it asks for a “last sector”, type  '+15g'. This will create 15 gigabytes in size, which is used for root partition.</p>
          </li>
          <li>
            <p>When it asks for a "hex code", type '8300' and hit 'Return'</p>
          </li>
        </ol>
        <h2 id="create-partition-five">Create Partition Five</h2>
        <ol>
          <li>
            <p>Type ‘n’ at the prompt and hit 'Return'.</p>
          </li>
          <li>
            <p>When it asks for a partition number, hit ‘Return’ to accept the default (1).</p>
          </li>
          <li>
            <p>When it asks for a “first sector”, hit 'Return' to accept the default.  This will start the partition at the beginning of your virtual hard disk.</p>
          </li>
          <li>
            <p>When it asks for a “last sector”, hit 'Return'. This will allocate remaining size, which is used for home partition.</p>
          </li>
          <li>
            <p>When it asks for a "hex code", type '8300' and hit 'Return'</p>
          </li>
        </ol>
        <h2 id="write-to-partition">Write to Partition</h2>
        <ol>
          <li>
            <p>Type 'p' to see all the partition</p>
          </li>
          <li>
            <p>Type 'w' to save the partition to the filesystem.</p>
          </li>
        </ol>
        <p>
          <img src="/img/arch_gpt_write.png">
        </p>
        <p>You can also see your final filesystem, by typing</p>
        <div class="language-plaintext highlighter-rouge">
          <div class="highlight">
            <pre class="highlight"><code># fdisk -l  
</code></pre>
          </div>
        </div>
        <p>
          <img src="/img/arch_fdisk.png">
        </p>
        <p>Next we need to format our partitons before we install Arch Linux. However don't format the first partition i.e. <code class="language-plaintext highlighter-rouge">/dev/sda1</code>.</p>
        <div class="language-plaintext highlighter-rouge">
          <div class="highlight">
            <pre class="highlight"><code># mkfs -t ext4 /dev/sda2

# mkfs -t ext4 /dev/sda4

# mkfs -t ext4 /dev/sda5
</code></pre>
          </div>
        </div>
        <p> 
          Also format the swap space and switch it on.</p>
        <div class="language-plaintext highlighter-rouge">
          <div class="highlight">
            <pre class="highlight"><code># mkswap /dev/sda3

# swapon /dev/sda3
</code></pre>
          </div>
        </div>
        <h1 id="step-3--build-the-walls">Step 3 : Build the walls</h1>
        <p>We are very close to building <strike>our house in Lego</strike> Arch Linux. We need to start building our <strike>walls</strike> system.
        </p>
        <p>Linux follows the root hierarchy. So we need to mount the root partition first i.e. <code class="language-plaintext highlighter-rouge">/dev/sda4</code>.</p>
        <div class="language-plaintext highlighter-rouge">
          <div class="highlight">
            <pre class="highlight"><code># mount /dev/sda4 /mnt

# cd /mnt
</code></pre>
          </div>
        </div>
        <p>Next we need to mount partition for bootloader and home on root partition.</p>
        <div class="language-plaintext highlighter-rouge">
          <div class="highlight">
            <pre class="highlight"><code># mkdir boot home

# mount /dev/sda2 boot

# mount /dev/sda5 home
</code></pre>
          </div>
        </div>
        <p>Now we are ready to install Arch Linux on our system. Type the following command and sit back for few minutes before everything is loaded</p>
        <div class="language-plaintext highlighter-rouge">
          <div class="highlight">
            <pre class="highlight"><code># pacstrap /mnt base base-devel
</code></pre>
          </div>
        </div>
        <p>After this we need to install bootloader. When a computer loads up, it needs bootloader to find and load an operating system. There are many bootloaders to install like syslinux, grub, LILO, etc but we'll be using GRUB for this guide.</p>
        <p>Local and remote filesystem mounts a special file <code class="language-plaintext highlighter-rouge">/etc/fstab</code> which contains instructions on starting up all your Linux system’s various partitions. To generate <code class="language-plaintext highlighter-rouge">fstab</code> file type</p>
        <div class="language-plaintext highlighter-rouge">
          <div class="highlight">
            <pre class="highlight"><code>#  genfstab -p /mnt &gt;&gt; /mnt/etc/fstab
#  nano /mnt/etc/fstab 
</code></pre>
          </div>
        </div>
        <p>
          <img src="/img/arch_fstab.png">
        </p>
        <h1 id="step-4--add-a-roof">Step 4 : Add a roof</h1>
        <p>You can't live in your Lego home before you add a roof. Similarly you can't reboot your system now before you initialize your Boot Loader.</p>
        <h2 id="install-grub-on-non-efi-system">Install Grub on non-efi system</h2>
        <div class="language-plaintext highlighter-rouge">
          <div class="highlight">
            <pre class="highlight"><code># pacstrap /mnt grub
</code></pre>
          </div>
        </div>
        <p>Next you need to login to your system without rebooting. Type</p>
        <div class="language-plaintext highlighter-rouge">
          <div class="highlight">
            <pre class="highlight"><code># arch-chroot /mnt /bin/bash
# grub-install --no-floppy /dev/sda
</code></pre>
          </div>
        </div>
        <p>
          <img src="/img/arch_grub_install.png">
        </p>
        <p>Lastly, generate the configuration file for the <code class="language-plaintext highlighter-rouge">grub</code>.</p>
        <div class="language-plaintext highlighter-rouge">
          <div class="highlight">
            <pre class="highlight"><code># grub-mkconfig -o /boot/grub/grub.cfg
</code></pre>
          </div>
        </div>
        <p><strong>Note</strong>: If you are dual booting on efi system, installing grub would be slightly different. You could follow this <a href="https://github.com/pandeiro/arch-on-air">blog</a></p>
        <p>Now you could easily reboot your system. However it's advised that you follow the last step to make it more usable.</p>
        <h1 id="step-5--add-final-touches">Step 5 : Add final touches</h1>
        <p>We have built our little home, Arch Linux. However we need more than a blank terminal to stare at.</p>
        <p>First we’ll edit <code class="language-plaintext highlighter-rouge">/etc/locale.gen</code>. type</p>
        <div class="language-plaintext highlighter-rouge">
          <div class="highlight">
            <pre class="highlight"><code># nano /etc/locale.gen 
</code></pre>
          </div>
        </div>
        <p>And uncomment the following two lines by removing the <code class="language-plaintext highlighter-rouge">#</code> from the front</p>
        <div class="language-plaintext highlighter-rouge">
          <div class="highlight">
            <pre class="highlight"><code>en_US.UTF-8 UTF-8
en_US ISO-8859-1
</code></pre>
          </div>
        </div>
        <p>Generate the updated file by typing</p>
        <div class="language-plaintext highlighter-rouge">
          <div class="highlight">
            <pre class="highlight"><code># locale.gen
</code></pre>
          </div>
        </div>
        <p>Change the hostname and enter the <code class="language-plaintext highlighter-rouge">hostname</code></p>
        <div class="language-plaintext highlighter-rouge">
          <div class="highlight">
            <pre class="highlight"><code># nano /etc/hostname
</code></pre>
          </div>
        </div>
        <p>Change the time zone to your location</p>
        <div class="language-plaintext highlighter-rouge">
          <div class="highlight">
            <pre class="highlight"><code># ln -s /usr/share/zoneinfo/America/New\_York /etc/localtime
</code></pre>
          </div>
        </div>
        <p>We need to tell the computer to connect to the internet. We need to run the following command</p>
        <div class="language-plaintext highlighter-rouge">
          <div class="highlight">
            <pre class="highlight"><code># dhcpcd
</code></pre>
          </div>
        </div>
        <p>To permanently make this changes, type</p>
        <div class="language-plaintext highlighter-rouge">
          <div class="highlight">
            <pre class="highlight"><code># systemctl enable dhcpcd 
</code></pre>
          </div>
        </div>
        <p>You dont want to forever live with the terminal. Legacy operating system usually come preinstalled with Windowing Environment. For Unix like OS we need to install Window Manger to manage graphical user interface. X11 is a windowing protocol which provides basic user interface. To install X11, type</p>
        <div class="language-plaintext highlighter-rouge">
          <div class="highlight">
            <pre class="highlight"><code># sudo pacman -S xorg-twm xorg-xclock xterm
</code></pre>
          </div>
        </div>
        <p>Well we also need to install a destop environment. Destop environment uses X11 to provide better user interface. Popular examples are GNOME, KDE, etc. I like tiling window environment which is suited for people who like tinkering &amp; since you're installing Arch Linux, I reckon i3 would appeal to you. To install i3, type</p>
        <div class="language-plaintext highlighter-rouge">
          <div class="highlight">
            <pre class="highlight"><code># sudo pacman -S i3
</code></pre>
          </div>
        </div>
        <p>Now, once you have .i3 installed, just go to your ~/.xinitrc and add:</p>
        <div class="language-plaintext highlighter-rouge">
          <div class="highlight">
            <pre class="highlight"><code>exec i3
</code></pre>
          </div>
        </div>
        <p>Customize GTK</p>
        <div class="language-plaintext highlighter-rouge">
          <div class="highlight">
            <pre class="highlight"><code>$ sudo pacman -S lxappearance 
</code></pre>
          </div>
        </div>
        <p>Sometimes we need to <code class="language-plaintext highlighter-rouge">ssh</code> into the virtual box. First select your virtual machine &amp; click <code class="language-plaintext highlighter-rouge">Settings-&gt;Network-&gt;Advanced-&gt;Port Forwarding</code></p>
        <p>
          <img src="/img/vbox_ssh1.png">
        </p>
        <p>
          <img src="/img/vbox_ssh2.png">
        </p>
        <p>
          <img src="/img/vbox_ssh3.png">
        </p>
        <p>Now we need to login into virtual box, &amp; install <code class="language-plaintext highlighter-rouge">openssh</code></p>
        <div class="language-plaintext highlighter-rouge">
          <div class="highlight">
            <pre class="highlight"><code>$ sudo pacman -S openssh 
</code></pre>
          </div>
        </div>
        <p>Generate your <code class="language-plaintext highlighter-rouge">ssh-key</code></p>
        <div class="language-plaintext highlighter-rouge">
          <div class="highlight">
            <pre class="highlight"><code>$ ssh-keygen 
</code></pre>
          </div>
        </div>
        <p>Start <code class="language-plaintext highlighter-rouge">ssh daemon</code> at the login time</p>
        <div class="language-plaintext highlighter-rouge">
          <div class="highlight">
            <pre class="highlight"><code>$ sudo systemctl enable sshd.socket
</code></pre>
          </div>
        </div>
        <p>Finally on your Host computer, type</p>
        <div class="language-plaintext highlighter-rouge">
          <div class="highlight">
            <pre class="highlight"><code>$ ssh -p 3333 username@127.0.0.1 
</code></pre>
          </div>
        </div>
        <p>And finally :)</p>
        <div class="language-plaintext highlighter-rouge">
          <div class="highlight">
            <pre class="highlight"><code># reboot
</code></pre>
          </div>
        </div>
        <!--break-->
        <h1 id="step-6--play-with-your-house">Step 6 : Play with your house</h1>
        <p>
          <img src="/img/final.png">
        </p>
        <p>
          <img src="/img/final_display.png">
        </p>
        <p>To start the Window Enviroment, type</p>
        <div class="language-plaintext highlighter-rouge">
          <div class="highlight">
            <pre class="highlight"><code>$ startx 
</code></pre>
          </div>
        </div>
        <p>
          <img src="/img/arch_i3.png">
        </p>
        <div class="footnotes">
          <h3>Footnotes</h3>
          <hr>
          <ol>
            <li id="fn:1">
              <p><a href="https://wiki.archlinux.org/index.php/Arch_Linux#Principles" target="_blank">Arch Linux Priniples</a></p>
              <a href="#fnref:1" rev="footnote">↩</a>
            </li>
            <li id="fn:2">
              <p><a href="http://www.pcworld.com/article/2911459/why-nvidia-graphics-cards-are-the-worst-for-open-source-but-the-best-for-linux-gaming.html" target="_blank">Graphics Card NVIDIA</a></p>
              <a href="#fnref:2" rev="footnote">↩</a>
            </li>
            <li id="fn:3">
              <p><a href="http://arstechnica.com/information-technology/2013/09/nvidia-seeks-peace-with-linux-pledges-help-on-open-source-driver/" target="_blank">NVIDIA pledges support to Linux</a></p>
              <a href="#fnref:3" rev="footnote">↩</a>
            </li>
          </ol>
        </div>
        <!-- this is for pagination -->
        <nav class="pagination clear" style="padding-bottom:20px;">
          <a class="prev-item" href="/blog/lsd" title="Previous Post: Quickly sort large file in linear time">←Previous</a>     <a class="next-item" href="/blog/get-post-requests" title="Next Post: Get all GET and POST requests using tshark">Next→</a>
        </nav>
        <hr>
        <div id="disqus_thread"></div>
        <script type="text/javascript">
          /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
          var disqus_shortname = 'randomwits'; // required: replace example with your forum shortname
          var disqus_identifier = '/blog/arch-linux';
          	    var disqus_url = 'http://tushar-sharma.github.io/blog/arch-linux';

          /* * * DON'T EDIT BELOW THIS LINE * * */
          (function() {
              var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
              dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
              (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
          })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a>
        </noscript>
        <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
      </section>
    </div>
    <div style="clear:both;"></div>
    <div class="wrapper">
      <footer>
        <!-- <p><small>Tushar Sharma &copy; 2026</small></p> -->
        <link rel="stylesheet" href="/css/font-awesome.css">
        <script src="/js/scroll_top.js" type="text/javascript"></script>
        <script src="/js/scroll_top.js" type="text/javascript"></script>
        <div class="footer">
          <hr>
          <!--
  
    <div> <a href="/blog/"> blog </a> </div> <br>
  
    <div> <a href="/projects/"> projects </a> </div> <br>
  
    <div> <a href="/Blog/"> Blog </a> </div> <br>
  `
  -->
          <div style="margin: 0 auto; text-align: center; font-size:large;">
            <span><small>Made with <span style="color:#e00"><i class="icon-heart"></i></span> &amp; help from <a href="https://www.linkedin.com/in/sharmiwish" target="_blank">Vishi</a>  <br>
                Tushar Sharma © 2026
                <a title="Email" href="mailto:tushar@randomwits.com">
                  <i class="icon-envelope-alt icon-large"></i>  
                </a>
                <!--
  <a href="/contact/">
    <i class="icon-bell"></i> &nbsp;
  </a>
  <a title="PGP key"  href="http://pgp.mit.edu/pks/lookup?op=get&search=0xD339D367130569DC">
    <i class="icon-key"></i> &nbsp;
  </a>
  -->
                <a title="Github" href="https://github.com/tushar-sharma" target="_blank">
                  <i class="icon-github icon-large"></i>   
                </a>
                <a title="Linkedin" href="http://in.linkedin.com/in/tsharma3" target="_blank">
                  <i class="icon-linkedin icon-large"></i>  
                </a>
                <a title="Twitter" href="https://twitter.com/tshrocks" target="_blank">
                  <i class="icon-twitter icon-large"></i>  
                </a>
                <a title="Facebook" href="https://www.facebook.com/tushar.sharma1729" target="_blank">
                  <i class="icon-facebook icon-large"></i>  
                </a>
                <a title="RSS" href="/feed.xml">
                  <i class="icon-rss icon-large"></i>
                </a>
              </small></span><br>
            <br>
          </div>
          <div style="clear:both;">
            <hr>
          </div>
          <script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-43895904-1', 'randomwits.com');
            ga('send', 'pageview');
          </script>
          <!-- back to top scroll -->
          <br>
          <br>
          <br>
          <br>
          <p id="back-top">
            <a href="#top">
              <span>
                <i class="fas fa-arrow-up"></i>
              </span>
            </a>
          </p>
        </div>
      </footer>
    </div>
  </body>
</html>
