<!DOCTYPE html>
<html>
  <head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <link rel="alternate" type="application/rss+xml" title="Randomwits RSS" href="/feed.xml">
    <meta charset="UTF-8">
    <!--[if IE]<meta http-equiv="X-UA-Compatible" content="chrome=1"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
<meta name="author" content="Tushar Sharma">
<meta name="description" content="Random Wits, my digital footprint.">
<meta name="keywords" content="Tushar, Sharma, Web, Development, Personal Website, Random Wits, Randomwits">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="default">
<meta property="og:site_name" content="Tushar Sharma">
<title>Optimizing SQL Queries - Understanding and Refreshing Materialized Views</title>
<link rel="icon" type="image/svg+xml" href="/img/favicon.svg">
<link rel="icon" type="image/png" href="/img/favicon.png">
<link rel="stylesheet" href="/css/github.css">
<link rel="stylesheet" href="/css/font-awesome.css">
<link rel="stylesheet" href="/css/styles.css">
<script async src="/js/scale.fix.js"></script>

<!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <!-- Twitter cards -->
    <meta name="twitter:site" content="@tshrocks">
    <meta name="twitter:creator" content="@Tushar Sharma">
    <meta name="twitter:title" content="Optimizing SQL Queries - Understanding and Refreshing Materialized Views">
    <meta name="twitter:description" content="Welcome to Randomwits, my digital nest.">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="https://unsplash.com/photos/PUvPZckRnOg/download?w=437">
    <meta property="og:image" content="https://unsplash.com/photos/PUvPZckRnOg/download?w=437">
    <!-- end of Twitter cards -->
    <!-- this is to allow mutiple tabs for code selection-->
    <script src="/js/clipboard.js"></script>
    <script src="/js/clipboard.min.js"></script>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3875134254611206" crossorigin="anonymous"></script>
    <!-- Begin Jekyll SEO tag v2.8.0 -->
    <title>Optimizing SQL Queries - Understanding and Refreshing Materialized Views | RandomWits</title>
    <meta name="generator" content="Jekyll v4.3.3">
    <meta property="og:title" content="Optimizing SQL Queries - Understanding and Refreshing Materialized Views">
    <meta name="author" content="Tushar Sharma">
    <meta property="og:locale" content="en_US">
    <meta name="description" content="When to use a materialized view? And how does it perform against a normal view. Benchmarking using docker.">
    <meta property="og:description" content="When to use a materialized view? And how does it perform against a normal view. Benchmarking using docker.">
    <link rel="canonical" href="https://randomwits.com/blog/refresh-materialized-views-concurrently">
    <meta property="og:url" content="https://randomwits.com/blog/refresh-materialized-views-concurrently">
    <meta property="og:site_name" content="RandomWits">
    <meta property="og:image" content="https://unsplash.com/photos/PUvPZckRnOg/download?w=437">
    <meta property="og:type" content="article">
    <meta property="article:published_time" content="2024-03-04T00:00:00+00:00">
    <meta name="twitter:card" content="summary_large_image">
    <meta property="twitter:image" content="https://unsplash.com/photos/PUvPZckRnOg/download?w=437">
    <meta property="twitter:title" content="Optimizing SQL Queries - Understanding and Refreshing Materialized Views">
    <script type="application/ld+json">
      {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Tushar Sharma"},"dateModified":"2024-03-04T00:00:00+00:00","datePublished":"2024-03-04T00:00:00+00:00","description":"When to use a materialized view? And how does it perform against a normal view. Benchmarking using docker.","headline":"Optimizing SQL Queries - Understanding and Refreshing Materialized Views","image":"https://unsplash.com/photos/PUvPZckRnOg/download?w=437","mainEntityOfPage":{"@type":"WebPage","@id":"https://randomwits.com/blog/refresh-materialized-views-concurrently"},"url":"https://randomwits.com/blog/refresh-materialized-views-concurrently"}
    </script>
    <!-- End Jekyll SEO tag -->
  </head>
  <body>
    <noscript>
      <h4 style="background: #ffacd; margin: 0; padding: 15px; text-align: center;">
        For a better experience on RandomWits, enable JavaScript in your browser.
      </h4>
    </noscript>
    <div class="wrapper">
      <header>
        <link rel="stylesheet" href="/css/styles.css">
        <link rel="stylesheet" href="/css/toc.css">
        <script defer src="/js/toc.js" type="text/javascript"></script>
        <script async src="https://kit.fontawesome.com/7aae5464ce.js" crossorigin="anonymous"></script>
        <script async src="/js/darkreader.js" crossorigin="anonymous"></script>
        <script async src="/js/dark_wrapper.js" crossorigin="anonymous"></script>
        <style type="text/css">
          @font-face {font-family: 'Somefont';
          	src:url('/font/OneDirection.ttf');
            font-weight: normal;
            font-style: normal;
            font-display: swap;
          }

          @font-face {
            font-family: "King Basil";
            src: url("/font/King-Basil.ttf");
            font-display: swap;
          }

          .king-basil {
            font-family: "King Basil";
          }


          h1.heading { font-family: Myfont;
            color: rgb(51, 153, 204);}
          .top{color: rgb(68, 68, 68);}
          .sub{font-family:Somefont;}

          /* for the toc */
          header ul  {
            height: auto !important;
            border: none !important;
            width: auto !important;
            border-radius: 0px solid !important;
            border-right: 0px solid !important;
            font-size: 1rem !important;
            letter-spacing: 2px !important;
          }
          header ul a {
            padding-top: none !important;
            color: #39c !important;
            border-right: 0px solid !important;
            display: inline !important;
            padding: 0.5rem 1rem !important;
            border-bottom: 1px solid #39c !important;
          }

          /** toc */
          header li {
            height : auto !important;
            float: none !important;
            line-height: 140% !important;
            margin: 10px 0 !important;
            border-right: 0px solid !important;

          }
        </style>
        <div id="random" class="top king-basil" style="font-size: 32px; color: rgb(81, 170, 232); margin-bottom: 10px;">
          <a href="/">
            RandomWits
          </a>
          <a style="cursor:pointer;" class="DarkReader_Button">
            <i id="icon-dark" class="fa fa-cloud-moon"></i>
          </a>
        </div>
        <div style="clear:both;"></div>
        <div>
          <p class="me_blurb">
          </p>
          <div class="sub">
            <!-- <span id="textAnimation"></span>-->
            life is too short for a diary
          </div>
        </div>
        <!--<a href="/"><h1 class="heading">Random<span class="top">Wits</span></h1></a> -->
        <!--<p class="me_blurb"><div >beware of random wits...<br>sometimes they bite</div></p> -->
        <!--<span class="quora-follow-button" data-name="Tushar-Sharma-3">Follow <a href="http://www.quora.com/Tushar-Sharma-3">Tushar Sharma</a> on <a href="http://www.quora.com">Quora</a><script type="text/javascript" src="http://www.quora.com/widgets/follow?embed_code=Wo7vDKF"></script></span>
<br>
-->
        <!-- <h2>Projects</h2>
<div class="highlight" >
  <pre style="overflow: hidden; overflow-y: hidden;">
<code><span class="nv">$</span> latest projects</code>
     ├── <span class="nv"></span><a href="/projects/k-largest" title="Find kth largest element in an array">k-largest</a><br />     ├── <span class="nv"></span><a href="/projects/encrypt-files" title="Encrypted Files in Minix 3">encrypted-files</a><br />     └── <span class="nv"></span><a href="/projects/binary-semaphore" title="Binary Sempahore">binary-semaphore</a><br><div style="float:right;">+&nbsp;<a href="/projects">view all</a></div>
</pre>
</div>
-->
        <div class="highlight">
          <!-- Responsive Sidebar Navigation -->
          <style>
            .sidebar-hamburger {
              display: none;
              background: none;
              border: none;
              font-size: 2em;
              margin: 10px;
              cursor: pointer;
              z-index: 1001;
            }
            .nav-wrap {
              transition: right 0.3s;
            }
            @media (max-width: 800px) {
              .nav-wrap {
                position: fixed;
                top: 0;
                right: -260px;
                left: auto;
                width: 240px;
                height: 100vh;
                background: #fff;
                box-shadow: -2px 0 8px rgba(0,0,0,0.08);
                z-index: 1000;
                padding-top: 60px;
              }
              .nav-wrap.open {
                right: 0;
              }
              .sidebar-hamburger {
                display: block;
                position: fixed;
                right: 10px;
                left: auto;
                top: 10px;
                background: #fff;
                border-radius: 4px;
                box-shadow: 0 2px 8px rgba(0,0,0,0.08);
              }
              .main-nav ul {
                padding: 0;
                margin: 0;
              }
              .main-nav li {
                margin: 0;
                padding: 0;
                border-bottom: 1px solid #eee;
              }
              .main-nav a {
                display: block;
                padding: 18px 24px;
                font-size: 1.1em;
                color: #333;
                text-decoration: none;
              }
              .main-nav a:active, .main-nav a:focus {
                background: #f0f0f0;
              }
              body.sidebar-open {
                overflow: hidden;
              }
            }
          </style>
          <button class="sidebar-hamburger" aria-label="Open navigation" onclick="document.querySelector('.nav-wrap').classList.toggle('open'); document.body.classList.toggle('sidebar-open');">
            <span>☰</span>
          </button>
          <div style="clear:both;float:left;padding-bottom:15px;" class="navbar-nav">
            <div class="nav-wrap">
              <nav class="main-nav">
                <ul class="unstyled list-hover-slide">
                  <li><a href="/tags"><i class="fa fa-tag"></i> Tags</a></li>
                  <li><a href="/games"><i class="fas fa-gamepad"></i> Games</a></li>
                  <li><a href="/watchlist"><i class="fas fa-film"></i> Watchlist</a></li>
                  <li><a href="/bookshelf"><i class="fas fa-book-open"></i> Bookshelf</a></li>
                  <li><a href="/quotes"><i class="fas fa-comment-dots"></i> Quotes</a></li>
                  <li><a href="/travel"><i class="fas fa-map-marked-alt"></i> Travel</a></li>
                  <li><a href="/habits"><i class="fas fa-heartbeat"></i> Habits</a></li>
                  <li><a href="/resources"><i class="fas fa-laptop-code"></i> Resources</a></li>
                  <li><a href="/tools"><i class="fas fa-hammer"></i> Tools</a></li>
                  <li><a href="/contact"><i class="fas fa-file-signature"></i> Contact</a></li>
                  <li><a href="/about"><i class="fas fa-fingerprint"></i> About</a></li>
                </ul>
              </nav>
            </div>
          </div>
          <script>
            // Close sidebar when clicking outside (mobile)
            document.addEventListener('click', function(e) {
              var nav = document.querySelector('.nav-wrap');
              var btn = document.querySelector('.sidebar-hamburger');
              if (!nav || !btn) return;
              if (nav.classList.contains('open') && !nav.contains(e.target) && e.target !== btn && !btn.contains(e.target)) {
                nav.classList.remove('open');
                document.body.classList.remove('sidebar-open');
              }
            });
          </script>
        </div>
        <!-- only if page is root page -->
        <div id="toc-block" class="codeblock" style="display:none;">
          <h3 style="color:#39c;">
            <i class="far fa-bookmark"></i> On This Page</h3>
          <div id="toc"></div>
        </div>
        <br>
        <!-- toc page -->
        <br>
        <br>
        <script type="text/javascript">
          $(document).ready(function() {
              $('#toc').toc();
          });
        </script>
        <!-- Upvote next : disabled -->
        <!-- 
-->
        <!-- begin - this is to include Adds in the site -->
        <!-- <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3875134254611206"
     crossorigin="anonymous"></script> -->
        <!-- end - this is to include Adds in the site -->
      </header>
      <section>
        <link rel="stylesheet" href="/css/search.css">
        <link rel="stylesheet" href="/css/toc.css">
        <script src="/js/copyClipboard.js" type="text/javascript"></script>
        <!-- search box begins -->
        <div style="padding-bottom:60px; padding-top:20px; background : white;">
          <form style="float:right;" action="/search/?">
            <input type="search" name="q" placeholder="Search">
          </form>
        </div>
        <!-- search box ends -->
        <br>
        <small style="float:right; margin-top:5px;"><strong></strong></small>
        <h1>Optimizing SQL Queries - Understanding and Refreshing Materialized Views</h1>
        <p>Tags:  <a class="mytag" href="/tag/sql" title="View posts tagged with: sql">sql</a>    <a class="mytag" href="/tag/database" title="View posts tagged with: database">database</a>    <a class="mytag" href="/tag/python" title="View posts tagged with: python">python</a>    <a class="mytag" href="/tag/docker" title="View posts tagged with: docker">docker</a>    </p>
        <div class="author-info">
          <div class="author-image">
            <img src="/img/tushar_sharma.jpg" alt="Author">
          </div>
          <span class="author-name">Written by: 
            Tushar
            Sharma
          </span>
        </div>
        <div class="post-featured-image" style="text-align:center; margin-bottom:20px;">
          <img src="https://unsplash.com/photos/PUvPZckRnOg/download?w=800" alt="Featured image for Optimizing SQL Queries - Understanding and Refreshing Materialized Views" style="max-width:100%; height:auto;">
        </div>
        <p>When to use a materialized view? And how does it perform against a normal view. Benchmarking using docker.</p>
        <h2 id="whats-a-view">What's a view?</h2>
        <p>A view is a virtual table based on a result-set of a SQL query. It's not physically materialized, the query is run every time the view is referenced.</p>
        <h2 id="materialized-view">Materialized view</h2>
        <p>A materialized view is a physical table that contains the result of a query. It's used when the query is complex and involves large amounts of data, making it unfeasible to execute each time. Instead, results are pre-computed and stored in the view.</p>
        <h2 id="stale-data">Stale data</h2>
        <p>Data can become stale after a time in a materialized view. Since the data is pre-computed and stored, it can get out of sync with the underlying base tables if those tables are updated.</p>
        <p>The concurrency option is more resource-intensive and might not be suitable for all scenarios.</p>
        <h2 id="solutions">Solutions</h2>
        <h3 id="traditional-refresh">Traditional refresh</h3>
        <p>Drop the old version of the view and replace it with new one. This can cause issues as it can block other queries from reading the view during the refresh process.</p>
        <div class="language-sql highlighter-rouge">
          <div class="highlight">
            <pre class="highlight"><code><span class="n">refresh</span> <span class="n">materialized</span> <span class="k">view</span> <span class="n">view_name</span>
</code></pre>
          </div>
        </div>
        <h3 id="concurrent-refresh">Concurrent refresh</h3>
        <p>Queries can read the view even when the view is getting refreshed as the update can be performed concurrently in the background. In order to use this approach, a unique index must be added to the materialized view. This unique index acts as a lookup table while the table is refreshing.</p>
        <div class="language-sql highlighter-rouge">
          <div class="highlight">
            <pre class="highlight"><code><span class="k">create</span> <span class="k">unique</span> <span class="k">index</span> <span class="n">my_unique_index</span> <span class="k">on</span> <span class="n">test</span><span class="p">.</span> <span class="n">programs</span><span class="p">(</span><span class="n">program_id</span><span class="p">);</span>

<span class="n">refresh</span> <span class="n">materialized</span> <span class="k">view</span> <span class="n">concurrently</span> <span class="n">view_name</span><span class="p">;</span>
</code></pre>
          </div>
        </div>
        <h2 id="benchmarking-with-docker">Benchmarking with Docker</h2>
        <h3 id="dockerfile">Dockerfile</h3>
        <div class="language-dockerfile highlighter-rouge">
          <div class="highlight">
            <pre class="highlight"><code><span class="k">FROM</span><span class="s"> postgres:latest</span>

<span class="k">RUN </span><span class="nb">mkdir</span> <span class="nt">-p</span> /data/postgres
<span class="k">COPY</span><span class="s"> schema.sql /docker-entrypoint-initdb.d/</span>

<span class="k">EXPOSE</span><span class="s"> 5432</span>
<span class="k">ENTRYPOINT</span><span class="s"> ["docker-entrypoint.sh", "postgres"]</span>
</code></pre>
          </div>
        </div>
        <p>This <code class="language-plaintext highlighter-rouge">dockerfile</code> defines a container based on official PostgreSQL image. It creates a directory for persistent data and copies a schema file (containing the materialized view definition and sample data) to the initialization directory, ensuring the schema is applied when the container starts.</p>
        <h3 id="schemasql">schema.sql</h3>
        <p>This schema creates a courses table and a programs materialized view contianing the count of courses grouped by ID. Additionally, it defines a unique index on the course_id column of the materialized view, which is necessary for concurrent refresh.</p>
        <div class="language-sql highlighter-rouge">
          <div class="highlight">
            <pre class="highlight"><code><span class="k">create</span> <span class="k">table</span> <span class="n">courses</span> <span class="p">(</span>
 <span class="n">course_id</span> <span class="nb">serial</span> <span class="k">primary</span> <span class="k">key</span><span class="p">,</span>
 <span class="n">course_name</span> <span class="nb">varchar</span><span class="p">(</span><span class="mi">255</span><span class="p">)</span> <span class="k">not</span> <span class="k">null</span>
<span class="p">);</span>

<span class="k">create</span> <span class="n">materialized</span> <span class="k">view</span> <span class="n">programs</span> <span class="k">as</span> 
    <span class="k">select</span> <span class="k">c</span><span class="p">.</span><span class="n">course_id</span><span class="p">,</span> <span class="k">count</span><span class="p">(</span><span class="o">*</span><span class="p">)</span> <span class="k">as</span> <span class="n">program_count</span>
    <span class="k">from</span> <span class="n">courses</span> <span class="k">c</span> 
    <span class="k">group</span> <span class="k">by</span> <span class="k">c</span><span class="p">.</span><span class="n">course_id</span><span class="p">;</span>

<span class="k">create</span> <span class="k">unique</span> <span class="k">index</span> <span class="n">idx_programs</span> <span class="k">on</span> <span class="n">programs</span><span class="p">(</span><span class="n">course_id</span><span class="p">);</span>
</code></pre>
          </div>
        </div>
        <h3 id="deploy-postgres-container">Deploy postgres container</h3>
        <p>Build and run the container using docker-</p>
        <div class="language-bash highlighter-rouge">
          <div class="highlight">
            <pre class="highlight"><code><span class="nv">$ </span>docker build <span class="nt">-t</span> my_postgres_image <span class="nb">.</span>
<span class="nv">$ </span>docker run <span class="nt">--name</span> my_postgres_container <span class="nt">-p</span> 5432:5432 <span class="nt">-e</span> <span class="nv">POSTGRES_PASSWORD</span><span class="o">=</span>password my_postgres_image
</code></pre>
          </div>
        </div>
        <h3 id="install-dependencies">Install dependencies</h3>
        <div class="language-bash highlighter-rouge">
          <div class="highlight">
            <pre class="highlight"><code><span class="nv">$ </span>python3 <span class="nt">-m</span> venv myenv 
<span class="nv">$ </span><span class="nb">.</span> myenv/bin/activate
<span class="nv">$ </span>pip <span class="nb">install </span>psycopg2-binary
<span class="nv">$ </span>python benchmark.py
</code></pre>
          </div>
        </div>
        <h3 id="python-script">Python script</h3>
        <div class="line-numbers code-block"> <script src="https://gist.github.com/tushar-sharma/2089f8af1ba720e91e29e206a28f7430.js?file=benchmark.py"></script> <button class="copy-button">Copy</button> </div>
        <h3 id="result">Result</h3>
        <p>Traditional refresh are usually faster than concurrent refresh. However traditional refresh take longer time for queries due to lock mechanism.</p>
        <div class="language-plaintext highlighter-rouge">
          <div class="highlight">
            <pre class="highlight"><code>***Traditional Refresh***
Refresh time:  1.312699794769287
Fetch time:  1.4531309604644775
***Concurrent Refresh***
Refresh time:  6.476271152496338
Fetch time:  1.2998201847076416
</code></pre>
          </div>
        </div>
        <!-- this is for pagination -->
        <nav class="pagination clear" style="padding-bottom:20px;">
          <a class="prev-item" href="/blog/resolving-chromedrive-verification-error-macos" title="Previous Post: Resolving chromedrive verification error in MacOS">←Previous</a>     <a class="next-item" href="/blog/unsolicited-advice" title="Next Post: Unsolicited Advice - The noise of Well Meaning Strangers">Next→</a>
        </nav>
        <hr>
        <div id="disqus_thread"></div>
        <script type="text/javascript">
          /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
          var disqus_shortname = 'randomwits'; // required: replace example with your forum shortname
          var disqus_identifier = '/blog/refresh-materialized-views-concurrently';
          	    var disqus_url = 'http://tushar-sharma.github.io/blog/refresh-materialized-views-concurrently';

          /* * * DON'T EDIT BELOW THIS LINE * * */
          (function() {
              var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
              dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
              (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
          })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a>
        </noscript>
        <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
      </section>
    </div>
    <div style="clear:both;"></div>
    <div class="wrapper">
      <footer>
        <!-- <p><small>Tushar Sharma &copy; 2025</small></p> -->
        <link rel="stylesheet" href="/css/font-awesome.css">
        <script src="/js/scroll_top.js" type="text/javascript"></script>
        <script src="/js/scroll_top.js" type="text/javascript"></script>
        <div class="footer">
          <hr>
          <!--
  
    <div> <a href="/blog/"> blog </a> </div> <br>
  
    <div> <a href="/projects/"> projects </a> </div> <br>
  
    <div> <a href="/Blog/"> Blog </a> </div> <br>
  `
  -->
          <div style="margin: 0 auto; text-align: center; font-size:large;">
            <span><small>Made with <span style="color:#e00"><i class="icon-heart"></i></span> &amp; help from <a href="https://www.linkedin.com/in/sharmiwish" target="_blank">Vishi</a>  <br>
                Tushar Sharma © 2025
                <a title="Email" href="mailto:tushar@randomwits.com">
                  <i class="icon-envelope-alt icon-large"></i>  
                </a>
                <!--
  <a href="/contact/">
    <i class="icon-bell"></i> &nbsp;
  </a>
  <a title="PGP key"  href="http://pgp.mit.edu/pks/lookup?op=get&search=0xD339D367130569DC">
    <i class="icon-key"></i> &nbsp;
  </a>
  -->
                <a title="Github" href="https://github.com/tushar-sharma" target="_blank">
                  <i class="icon-github icon-large"></i>   
                </a>
                <a title="Linkedin" href="http://in.linkedin.com/in/tsharma3" target="_blank">
                  <i class="icon-linkedin icon-large"></i>  
                </a>
                <a title="Twitter" href="https://twitter.com/tshrocks" target="_blank">
                  <i class="icon-twitter icon-large"></i>  
                </a>
                <a title="Facebook" href="https://www.facebook.com/tushar.sharma1729" target="_blank">
                  <i class="icon-facebook icon-large"></i>  
                </a>
                <a title="RSS" href="/feed.xml">
                  <i class="icon-rss icon-large"></i>
                </a>
              </small></span><br>
            <br>
          </div>
          <div style="clear:both;">
            <hr>
          </div>
          <script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-43895904-1', 'randomwits.com');
            ga('send', 'pageview');
          </script>
          <!-- back to top scroll -->
          <br>
          <br>
          <br>
          <br>
          <p id="back-top">
            <a href="#top">
              <span>
                <i class="fas fa-arrow-up"></i>
              </span>
            </a>
          </p>
        </div>
      </footer>
    </div>
  </body>
</html>
