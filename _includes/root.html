<style>
.cl{ width: 200px;  color: rgb(51, 153, 204);}
.cl2{color: rgb(51, 153, 204);}
</style>

<script src="/../js/jquery-1.7.1.min.js"></script>
<script src="/../js/jquery.mousewheel-min.js"></script>
<script src="/../js/jquery.terminal-min.js"></script>
<link href="/../css/jquery.terminal.css" rel="stylesheet"/>

<script type="text/javascript">

function myIP() {
    if (window.XMLHttpRequest) xmlhttp = new XMLHttpRequest();
    else xmlhttp = new ActiveXObject("Microsoft.XMLHTTP");

    xmlhttp.open("GET","http://api.hostip.info/get_html.php",false);
    xmlhttp.send();

    hostipInfo = xmlhttp.responseText.split("\n");

    for (i=0; hostipInfo.length >= i; i++) {
        ipAddress = hostipInfo[i].split(":");
        if ( ipAddress[0] == "IP" ) return ipAddress[1];
    }

    return false;
}

jQuery(document).ready(function($) {

var greettxt = "" +
" __      __           .__                                       \n" +
"/  \\    /  \\   ____   |  |     ____     ____     _____     ____  \n" +
"\\   \\/\\/   / _/ __ \\  |  |   _/ ___\\   /  _ \\   /     \\  _/ __ \\  \n" +
" \\        /  \\  ___/  |  |__ \\  \\___  (  <_> ) |  Y Y  \\ \\  ___/  \n" +
"  \\__/\\  /    \\___  > |____/  \\___  >  \\____/  |__|_|  /  \\___  > \n" +
"       \\/         \\/              \\/                 \\/       \\/ \n" + 
"               _  _  _  _ \n" +
"              ( `  `  `  `) \n" + 
"             (  Type help  ) \n" +
"           (_   _   .   _   _) \n" +
"                 o \n" + 
"               o \n" +
"        .--. \n" + 
"       |o_o | \n" + 
"       |:_/ | \n" + 
"      //   \\ \\ \n" + 
"     (|     | ) \n" + 
"    /'\\_   _/`\\ \n" + 
"    \\___)=(___/ ";

          
    var id = 1;
    $('#foo').terminal(function(command, term) {
 
        arg = command.substr(0,command.indexOf(' ')); 
        toSearch = command.substr(command.indexOf(' ')+1); 

         if (command == 'help') { 
             mystr = "<span class=\"cl\">clear</span> Clear screen.<br><span class=\"cl\">about</span> A short bio.<br><span class=\"cl\">preview</span> Preview site.<br><span class=\"cl\">resume</span> mini resume, links to html version.<br><span class=\"cl\">qrcode</span> My contact info in matrix barcode.<br><span class=\"cl\">blog</span> Open my blog.<br><span class=\"cl\">projects</span> Open my projects.<br><span class=\"cl\">books</span> List my favourite books.<br><span class=\"cl\">games</span> List some of games I developed.<br><span class=\"cl\">contact</span> Send me a direct message.<br><span class=\"cl\">hit</span> Display a random quote.<br><span class=\"cl\">hack</span> Katamari hack<br><span class=\"cl\">search</span> Search my site.";
          
            term.echo(mystr, {
              raw: function(div) {

            }
         });
         } else if (command == "about") {

     term.echo("Hi! My name is <span class=\"clr\">Tushar Sharma</span>. I am a software developer by vocation, blogger by hobby and a poet by genes (probably..&#12484;). Feel free to explore my site or drop me a line.<br><a style=\"text-decoration: none; background: #00ee11; color:#000; \" href=\"/about\">...more</a><br>", {
              raw: function(div) {
            }
         });

         } else if (command == "ls") {

     term.echo("<span class=\"cl\">css</span> 404.html <br> <span class=\"cl\">js</span> index.php <br> <span class=\"cl\">nsa_classified</span> contact.html<br> <span class=\"cl\">evil_plan</span> spies.txt", {
              raw: function(div) {
            }
         });

        } else if (arg == "cd" || command == "cd") {
 
          ip = myIP(); 
     term.echo("You've tried to access something which you're not authorized to. Your IP <span class=\"cl2\">" + ip + "</span> would be reported to FBI.", {
              raw: function(div) {
            }
         });


       } else if (arg == "cat" || command == "cat") {

 
          ip = myIP(); 
     term.echo("You've tried to access something which you're not authorized to. Your IP <span class=\"cl2\">" + ip + "</span> would be reported to FBI.", {
              raw: function(div) {
            }
         });


       }else if (command == "contact") {
          window.location.href="/contact";
        } else if (command == "preview") {
          window.location.href="/preview";
        } else if (command == "projects") { 
          window.location.href="/projects";
        } else if (command == "blog") {
          window.location.href="/blog";
        } else if (arg == "search" || command == "search") {
            if (toSearch == "" || command =="search")  
              term.echo("Wrong Parameters. Usage: search <to search>");
            else window.location.href="/search/?q=" + toSearch;
        }  else if (command == "books") {
          //window.open('/books', '_blank');
          window.location.href="/books";

        } else if (command == "games") {
          window.location.href="/games";
        } else if (command == "qrcode") {
            term.echo("<img src=\"http://api.qrserver.com/v1/create-qr-code/?data=MECARD%3AN%3ASharma%2CTushar%3BEMAIL%3Atushar%40randomwits.com%3BTEL%3A%2B919837264416%3BURL%3Ahttp%3A%2F%2Frandomwits.com%3B%3B&#38;size=150x150&#38;prov=goqrme\" alt=\"MECARD:N:Sharma,Tushar;EMAIL:tushar@randomwits.com;TEL:+919837264416;URL:http://randomwits.com;; \"  /> ", {
              raw: function(div) {
            }
         });

        } else if(command == "hack") {

             javascript:var i,s,ss=['http://kathack.com/js/kh.js','http://ajax.googleapis.com/ajax/libs/jquery/1.5.1/jquery.min.js'];for(i=0;i!=ss.length;i++){s=document.createElement('script');s.src=ss[i];document.body.appendChild(s);}void(0);
 
         }else if (command == "resume") {
         
           term.echo("<span class=\"cl\">University of Florida</span> Senior Certificate, Spring 2013.<br><span class=\"cl\">JUIT</span> B.Tech in ECE from 2009 to 2013.<br><span class=\"cl\">Experience with</span> C, C++, Java, HTML, CSS, PHP, JS, Python<br><a style=\"text-decoration: none; background: #00ee11; color:#000; \" target=\"_blank\" href=\"https://dl.dropboxusercontent.com/u/85584172/resume.pdf\" >..resume</a>", {
              raw: function(div) {
            }
         });
        } else if (command == "hit") {
            jQuery.get('/../quotes.txt', function(data) { 
              var quotes = data.split("\n");
              var idx = Math.floor((quotes.length - 1) * Math.random());
              term.echo("<span style=\"color: rgb(51, 153, 204); \">" + quotes[idx] + "</span>", { 
                  raw: function(div) { }
               });
            });
      
          /* term.echo(art, {
             finalize: function(div) {
               div.css("color", "rgb(51, 153, 204)");
             }
          });*/
        } else {
     term.echo("Unknown command <span class=\"cl2\">" + command + "</span>. Please type <span class=\"cl2\">help</span>.", {
              raw: function(div) {
            }
         });


        }
    }, {

        greetings: (greettxt + "\n\n") ,
  
     /* greetings: (greettxt, {
              raw: function(div) {
            }
         } ) , 
 */

        onBlur: function() {
            // prevent loosing focus
            return false;
        }
    });
});

</script>

<!--<h2>Hello stranger.</h2> -->
<div id="foo">
</div>

