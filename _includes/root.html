<link rel="stylesheet" href="{{ root_url }}/css/styles.css" />
<link rel="stylesheet" href="{{ root_url }}/css/font-awesome.css" />
<link rel="stylesheet" href="{{ root_url }}/css/search.css" />


<!-- search box begins -->
<div style="padding-bottom:60px; padding-top:20px; background : white;">
  <form style="float:right;" action="{{ root_url }}/search/?">
    <input type="search" name="q" placeholder="Search">
  </form>
</div>
<!-- search box ends -->
<br>
<!--{% assign blogposts = paginator.posts and !paginator.posts.hidden %}-->
{% assign blogposts = paginator.posts  %}
{% if true %}
  {% for post in blogposts %}
        <small style="float:right; margin-top:5px;">{{ post.date | date:'%a %d %b %Y' }}</small>
  <a href="{{ post.url }}">
    <h1>{{ post.title }}</h1>
  </a>
      <div>
        <!-- this is for thumb images;  -->



        <a href="{{ post.url }}">
          <div style="background:url('{{ post.thumb }}') no-repeat; background-size: 100% 100%;" class="thumb"></div>
        </a>

        <div style="clear:both; ">
          {% assign truncated_post = post.content | split:"<!-- truncate_here -->" | first %}
          {% if truncated_post != post.content %}
          {{ truncated_post | append:".."}}
      </div>
      </div>
  <p>
    <a href="{{ post.url }}">
      <span>Continue reading &rarr;</span>
    </a>
     <span style="float:right;"><i class="icon-tags"></i> Tags :
      {% for tag in post.tags %}
          <a class="mytag" href="/tag/{{ tag }}"> {{ tag }} </a>
      {% endfor %}
     </span>
  </p>
  {% else %}
      {% endif %}
  {% if post != blogposts.last %}
    <br><br>
    <hr />
    <br><br>
    {% endif %}
  {% endfor %}
{% endif %}

<hr>
<!-- create the navigation links -->
<nav id="pagination">
  {% if paginator.total_pages > 1 %}

  {% assign start = paginator.page | minus: 2 %}
  {% assign end = paginator.page | plus: 2 %}

  {% if start < 1 %}
    {% assign start = 1 %}
    {% assign end = start | plus: 4 %}
  {% elsif end > paginator.total_pages %}
    {% assign start = paginator.total_pages | minus: 4 %}
    {% assign end = paginator.total_pages %}
  {% endif %}

  {% if start < 1 %}
    {% assign start = 1 %}
  {% endif %}

  {% if end > paginator.total_pages %}
    {% assign end = paginator.total_pages %}
  {% endif %}

  <div class="pagination-wrapper">
    <div class="pagination">
      {% if paginator.previous_page %}
        <a class="pagination-step" href="{{ paginator.previous_page_path | prepend: site.baseurl | replace: '//', '/' }}">
          Newer
        </a>
      {% else %}
        <span class="pagination-step">
          Newer
        </span>
      {% endif %}

      {% if start > 1 %}
        <a class="pagination-first" href="{{ site.baseurl }}/">1</a>
        <span class="pagination-more">&middot;&middot;&middot;</span>
      {% endif %}

      {% for page in (start..end) %}
        {% if page == paginator.page %}
          <span class="active">{{ page }}</span>
        {% elsif page == 1 %}
          <a href="{{ site.baseurl }}/">{{ page }}</a>
        {% else %}
          <a href="{{ site.baseurl }}/page{{ page }}">{{ page }}</a>
        {% endif %}
      {% endfor %}

      {% if end < paginator.total_pages %}
        <span class="pagination-more">&middot;&middot;&middot;</span>
        <a class="pagination-last" href="{{ site.baseurl }}/page{{ paginator.total_pages }}">{{ paginator.total_pages }}</a>
      {% endif %}

      {% if paginator.next_page %}
        <a class="pagination-step" href="{{ paginator.next_page_path | prepend: site.baseurl | replace: '//', '/' }}">
          Older
        </a>
      {% else %}
        <span class="pagination-step">
          Older
        </span>
      {% endif %}
    </div>
  </div>
{% endif %}  
</nav>
